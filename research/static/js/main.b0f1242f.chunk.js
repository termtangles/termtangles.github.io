(this.webpackJsonptermtangles=this.webpackJsonptermtangles||[]).push([[0],{152:function(e,t){},184:function(e,t){},190:function(e,t){},229:function(e,t,n){},230:function(e,t,n){},239:function(e,t,n){},275:function(e,t){},299:function(e,t){},305:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t);var r,s=n(0),i=n.n(s),a=n(16),o=n.n(a),c=(n(229),n(230),n(211)),u=n(115),l=n.n(u),d=n(201),h=n(18),p=n(14),g=n(15),f=n(7);!function(e){e[e.UNPLANNED=0]="UNPLANNED",e[e.PLANNED=1]="PLANNED",e[e.ALLOCATED=2]="ALLOCATED",e[e.COMPLETED=3]="COMPLETED"}(r||(r={}));var j,b,m=function(){function e(t,n,s,i,a,o,c,u,l,d,h,g,j,b,m,O,v){Object(p.a)(this,e),this.code=t,this.contentTypeLabel=n,this.corequisites=s,this.creditPoints=i,this.description=a,this.effectiveDate=o,this.enrolmentRules=c,this.exclusion=u,this.facultyName=l,this.implementationYear=d,this.keywords=h,this.prerequisites=g,this.schoolName=j,this.studyLevel=b,this.termOffering=m,this.title=O,this.urlMap=v,this.allocatedTerm=void 0,this.id=void 0,this.courseStatus=r.UNPLANNED,this._errors=new Set,this.id=t,Object(f.o)(this)}return Object(g.a)(e,[{key:"setAllocated",value:function(e){this.courseStatus=r.ALLOCATED,this.allocatedTerm=e}},{key:"setUnplanned",value:function(){this._errors.clear(),this.courseStatus=r.UNPLANNED,this.allocatedTerm=void 0}},{key:"setCompleted",value:function(){this._errors.clear(),this.courseStatus=r.COMPLETED,this.allocatedTerm=void 0}},{key:"setPlanned",value:function(){this.courseStatus=r.PLANNED,this.allocatedTerm=void 0}},{key:"addError",value:function(e){this._errors.add(e)}},{key:"removeError",value:function(e){this._errors.delete(e)}},{key:"hasErrors",value:function(){return this._errors.size>0}},{key:"clearErrors",value:function(){this._errors.clear()}},{key:"errors",get:function(){return Object(h.a)(this._errors)}},{key:"toString",value:function(){return"[COURSE_".concat(this.id,"] ").concat(this.code," - ").concat(this.title)}}]),e}(),O=function(){function e(t,n){Object(p.a)(this,e),this.year=void 0,this.name=void 0,Object(f.o)(this),this.year=t,this.name=n}return Object(g.a)(e,[{key:"getMappingName",get:function(){return"".concat(this.year,"_").concat(this.name)}},{key:"update",value:function(e,t){this.year=e,this.name=t}},{key:"updateFromMappingName",value:function(e){var t=parseInt(e.split("_")[0]),n=e.split("_")[1];this.update(t,n)}},{key:"getFullName",get:function(){return"".concat(this.year," ").concat(this.name)}},{key:"getTermName",get:function(){return"".concat(this.name)}},{key:"tryGetTermNumber",value:function(){switch(this.name){case"Summer Term":return 0;case"Term 1":return 1;case"Term 2":return 2;case"Term 3":return 3;default:return}}},{key:"equals",value:function(e){return!!e&&(this.year===e.year&&this.name===e.name)}},{key:"isBefore",value:function(e){var t,n;return this.year<e.year||e.year===this.year&&(null!==(t=this.tryGetTermNumber())&&void 0!==t?t:99)<(null!==(n=e.tryGetTermNumber())&&void 0!==n?n:99)}}],[{key:"fromMappingName",value:function(t){return new e(parseInt(t.split("_")[0]),t.split("_")[1])}}]),e}(),v=n(202);!function(e){e[e.UNPLANNED=0]="UNPLANNED",e[e.PLANNED=1]="PLANNED"}(j||(j={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.COURSE_NOT_OFFERED_IN_SELECTED_TERM=1]="COURSE_NOT_OFFERED_IN_SELECTED_TERM",e[e.PREREQUISITES_NOT_PLANNED=2]="PREREQUISITES_NOT_PLANNED",e[e.PREREQUISITE_REQUIREMENT_NOT_MET=3]="PREREQUISITE_REQUIREMENT_NOT_MET",e[e.COREQUISITE_REQUIREMENT_NOT_MET=4]="COREQUISITE_REQUIREMENT_NOT_MET",e[e.EXCLUSION_COURSE_CONFLICT=5]="EXCLUSION_COURSE_CONFLICT"}(b||(b={}));var S,x=function e(t,n){var r,s=[];if((r=t)&&r.or){var i,a=Object(v.a)(t.or);try{for(a.s();!(i=a.n()).done;){var o,c=i.value,u=e(c,n);if(0===u.length){s=[];break}(o=s).push.apply(o,Object(h.a)(u))}}catch(l){a.e(l)}finally{a.f()}}else!function(e){return e&&e.and}(t)?n(t)||s.push(t):t.and.forEach((function(t){var r;(r=s).push.apply(r,Object(h.a)(e(t,n)))}));return s},y=function(){function e(){var t,n=this;Object(p.a)(this,e),this.validations=(t=this,[function(e){console.log("Running validation COURSE_NOT_OFFERED_IN_SELECTED_TERM on course ".concat(e.code)),e.allocatedTerm&&!e.termOffering.includes(e.allocatedTerm.getTermName)&&e.addError({code:b.COURSE_NOT_OFFERED_IN_SELECTED_TERM,message:"This course is not offered in ".concat(e.allocatedTerm.getTermName),missing:""})},function(e){if(console.log("Running validation PREREQUISITE_REQUIREMENT_NOT_MET on course ".concat(e.code)),e.allocatedTerm){var n=t.getMissingPrerequisitesBeforeTerm(e.prerequisites,e.allocatedTerm);n.length>0&&e.addError({code:b.PREREQUISITE_REQUIREMENT_NOT_MET,message:"The prerequisites for this course are not satisfied\n".concat(e.enrolmentRules.join(";")),missing:"Missing: ".concat(n)})}},function(e){if(console.log("Running validation PREREQUISITES_NOT_PLANNED on course ".concat(e.code)),e.courseStatus!==r.ALLOCATED){var n=t.getMissingPrerequisitesPlanned(e.prerequisites);n.length>0&&e.addError({code:b.PREREQUISITES_NOT_PLANNED,message:"A valid combination of prerequisites for this course have not been planned\n".concat(e.enrolmentRules.join(";")),missing:"Missing: ".concat(n)})}},function(e){console.log("Running validation EXCLUSION_COURSE_CONFLICT on course ".concat(e.code));var n=[];e.exclusion.forEach((function(e){var s=t.getCourseById(e);s&&s.courseStatus!==r.UNPLANNED&&n.push(e)})),n.length>0&&e.addError({code:b.EXCLUSION_COURSE_CONFLICT,message:"The following exclusion courses conflict with this course ".concat(n.join(", ")),missing:""})}]),this.coursesMapById=new Map,this.coursesMapByActiveStatus=new Map,Object(f.o)(this),this.coursesMapByActiveStatus.set(r.UNPLANNED,new Map),this.coursesMapByActiveStatus.set(r.PLANNED,new Map),this.coursesMapByActiveStatus.set(r.ALLOCATED,new Map),this.coursesMapByActiveStatus.set(r.COMPLETED,new Map),this.loadAllCourses().then((function(){var e,t;null===(e=n.getCourseById("COMP1521"))||void 0===e||e.setPlanned(),null===(t=n.getCourseById("COMP3231"))||void 0===t||t.setPlanned();var r=n.getCourseById("COMP9444");r&&n.assignCourseToTerm(r,new O(2021,"Term 3"));var s=n.getCourseById("MATH1081");s&&n.assignCourseToTerm(s,new O(2021,"Term 2"));var i=n.getCourseById("COMP2041");i&&n.assignCourseToTerm(i,new O(2021,"Term 2"));var a=n.getCourseById("COMP9417");a&&n.assignCourseToTerm(a,new O(2022,"Term 3"));var o=n.getCourseById("MATH1231");o&&n.assignCourseToTerm(o,new O(2021,"Term 3"))}))}return Object(g.a)(e,[{key:"allCourses",get:function(){return Object(h.a)(this.coursesMapById.values())}},{key:"loadAllCourses",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(new Request("https://raw.githubusercontent.com/termtangles/termtangles_data/main/publish/research/all_courses.json",{method:"GET",mode:"cors",cache:"default"})).then((function(e){return e.json()})).then((function(e){Object(f.t)((function(){e.forEach((function(e){var n=new m(e.code,e.contentTypeLabel,e.corequisites,e.creditPoints,e.description,e.effectiveDate,e.enrolmentRules,e.exclusion,e.facultyName,e.implementationYear,e.keywords,e.prerequisites,e.schoolName,e.studyLevel,e.termOffering,e.title,e.urlMap);t.addCourse(n)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"termCourseMap",get:function(){var e,t=new Map;return null===(e=this.coursesMapByActiveStatus.get(r.ALLOCATED))||void 0===e||e.forEach((function(e){if(e.allocatedTerm){var n=t.get(e.allocatedTerm.getMappingName);n?n.push(e):t.set(e.allocatedTerm.getMappingName,[e])}})),t}},{key:"completedCourses",get:function(){var e,t;return Object(h.a)(null!==(e=null===(t=this.coursesMapByActiveStatus.get(r.COMPLETED))||void 0===t?void 0:t.values())&&void 0!==e?e:[])}},{key:"plannedCourses",get:function(){var e,t;return Object(h.a)(null!==(e=null===(t=this.coursesMapByActiveStatus.get(r.PLANNED))||void 0===t?void 0:t.values())&&void 0!==e?e:[])}},{key:"getMaxAllocatedYear",get:function(){var e=Object(h.a)(this.termCourseMap.keys()),t=(new Date).getFullYear();return e.length>0&&(t=O.fromMappingName(e.sort().slice(-1)[0]).year),t}},{key:"getCourseById",value:function(e){return this.coursesMapById.get(e)}},{key:"addCourse",value:function(e){var t=this;this.coursesMapById.set(e.id,e),Object(f.r)((function(){return e.courseStatus}),(function(){for(var n in r)if(isNaN(Number(n))){var s,i,a=r[n];if(a!==e.courseStatus)null===(s=t.coursesMapByActiveStatus.get(a))||void 0===s||s.delete(e.id);else null===(i=t.coursesMapByActiveStatus.get(a))||void 0===i||i.set(e.id,e)}}),{fireImmediately:!0}),Object(f.r)((function(){return e.courseStatus}),(function(){t.runValidations()}),{fireImmediately:!0}),Object(f.r)((function(){return e.allocatedTerm}),(function(){t.runValidations()}),{fireImmediately:!0})}},{key:"runValidations",value:function(){var e=this;Object(f.t)((function(){var t,n,s;null===(t=e.coursesMapByActiveStatus.get(r.PLANNED))||void 0===t||t.forEach((function(t){t.clearErrors(),e.validations.forEach((function(e){e(t)}))})),null===(n=e.coursesMapByActiveStatus.get(r.ALLOCATED))||void 0===n||n.forEach((function(t){t.clearErrors(),e.validations.forEach((function(e){e(t)}))})),null===(s=e.coursesMapByActiveStatus.get(r.COMPLETED))||void 0===s||s.forEach((function(e){e.clearErrors()}))}))}},{key:"setAllUnplanned",value:function(){var e=this;this.allCourses.map((function(t){var n;return null===(n=e.coursesMapById.get(t.code))||void 0===n||n.setUnplanned(),t}))}},{key:"getFlattenedPrerequisiteList",value:function(e){return x(e,(function(e){return!1}))}},{key:"getMissingPrerequisitesBeforeTerm",value:function(e,t){var n=this;return x(e,(function(e){if("string"===typeof e){var s,i=e,a=n.getCourseById(i);return!!a&&(a.courseStatus===r.ALLOCATED&&(null===(s=a.allocatedTerm)||void 0===s?void 0:s.isBefore(t))||a.courseStatus===r.COMPLETED)}return!0}))}},{key:"getMissingPrerequisitesPlanned",value:function(e){var t=this;return x(e,(function(e){if("string"===typeof e){var n=e,s=t.getCourseById(n),i=!!s&&s.courseStatus!==r.UNPLANNED;return console.log("".concat(n,": ").concat(i)),!!s&&s.courseStatus!==r.UNPLANNED}return!0}))}},{key:"courseIsOffered",value:function(e,t){for(var n=0;n<t.length;n++)if(e.getTermName===t[n])return!0;return!1}},{key:"getMissingRequirementsWhenAssigningCourseToTerm",value:function(e,t){var n=this.getMissingPrerequisitesBeforeTerm(e.prerequisites,t);return this.courseIsOffered(t,e.termOffering)||n.push("Course is not offered in ".concat(t.getFullName)),n}},{key:"assignCourseToTerm",value:function(e,t){return 0===this.getMissingRequirementsWhenAssigningCourseToTerm(e,t).length&&(e.setAllocated(t),!0)}},{key:"assignCourseToTermHard",value:function(e,t){return e.setAllocated(t),!0}}]),e}(),P=n(344),C=function(){function e(t,n,r,s,i,a){Object(p.a)(this,e),this.title=t,this.description=n,this.creditPoints=r,this.elements=s,this.containers=i,this.order=a,this.id=Object(P.a)()}return Object(g.a)(e,[{key:"toString",value:function(){return this.title+", "+this.description}}]),e}(),E=function(){function e(t,n,r,s,i,a,o){Object(p.a)(this,e),this.name=t,this.description=n,this.type=r,this.creditPoints=s,this.itemCode=i,this.url=a,this.order=o}return Object(g.a)(e,[{key:"isCourse",value:function(){return"course"===this.type.toLowerCase()}},{key:"isSpecialisation",value:function(){return["major","minor","specialisation","honours"].includes(this.type.toLowerCase())}},{key:"toString",value:function(){return this.name+", "+this.type}}]),e}(),N=function e(t){var n=[],r=[];return t.forEach((function(t){var s=[];t.children.length>0&&(s=e(t.children)),t.relationships.length>0&&(r=T(t.relationships));var i=new C(t.title,t.description,Number(t.creditPoints),r,s,Number(t.order));n.push(i)})),n},T=function(e){var t=[];return e.forEach((function(e){var n=new E(e.name,e.description,e.type,Number(e.creditPoints),e.itemCode,e.url,Number(e.order));t.push(n)})),t},w=function(){function e(t,n,r,s,i,a,o,c,u,l,d,h,g,b){Object(p.a)(this,e),this.code=t,this.title=n,this.academicItemType=r,this.additionalInfo=s,this.creditPoints=i,this.curriculumStructure=a,this.description=o,this.facultyName=c,this.implementationYear=u,this.intakePeriod=l,this.programConstraints=d,this.schoolName=h,this.studyLevel=g,this.urlMap=b,this.id=void 0,this.progressionStatus=j.UNPLANNED,this.id=t,Object(f.o)(this)}return Object(g.a)(e,[{key:"setPlanned",value:function(){this.progressionStatus=j.PLANNED}},{key:"setUnplanned",value:function(){this.progressionStatus=j.UNPLANNED}},{key:"toString",value:function(){return"[PROGRAM_".concat(this.id,"] ").concat(this.code," - ").concat(this.title)}}]),e}(),I=function(){function e(t,n,r,s,i,a,o,c,u,l,d,h){Object(p.a)(this,e),this.code=t,this.title=n,this.academicItemType=r,this.creditPoints=s,this.curriculumStructure=i,this.description=a,this.facultyName=o,this.implementationYear=c,this.keywords=u,this.schoolName=l,this.studyLevel=d,this.urlMap=h,this.id=void 0,this.progressionStatus=j.UNPLANNED,this.id=t,Object(f.o)(this)}return Object(g.a)(e,[{key:"setPlanned",value:function(){this.progressionStatus=j.PLANNED}},{key:"setUnplanned",value:function(){this.progressionStatus=j.UNPLANNED}},{key:"toString",value:function(){return"[SPECIALISATION_".concat(this.id,"] ").concat(this.code," - ").concat(this.title)}}]),e}(),A=function(){function e(){Object(p.a)(this,e),this._programMapById=new Map,this._specialisationMapById=new Map,Object(f.o)(this),this.loadAllPrograms().then((function(){})),this.loadAllSpecialisations().then((function(){}))}return Object(g.a)(e,[{key:"allPrograms",get:function(){return Object(h.a)(this._programMapById.values())}},{key:"allSpecialisations",get:function(){return Object(h.a)(this._specialisationMapById.values())}},{key:"getProgramById",value:function(e){return this._programMapById.get(e)}},{key:"getSpecialisationById",value:function(e){return this._specialisationMapById.get(e)}},{key:"plannedPrograms",get:function(){return this.allPrograms.filter((function(e){return e.progressionStatus===j.PLANNED}))}},{key:"plannedSpecialisations",get:function(){return this.allSpecialisations.filter((function(e){return e.progressionStatus===j.PLANNED}))}},{key:"plannedProgressionEntities",get:function(){var e=this.plannedPrograms;return e=e.concat(this.plannedSpecialisations)}},{key:"addProgram",value:function(e){this._programMapById.set(e.id,e)}},{key:"addSpecialisation",value:function(e){this._specialisationMapById.set(e.id,e)}},{key:"loadAllPrograms",value:function(){var e=this;return fetch(new Request("https://raw.githubusercontent.com/termtangles/termtangles_data/main/publish/research/all_programs.json",{method:"GET",mode:"cors",cache:"default"})).then((function(e){return e.json()})).then((function(t){Object(f.t)((function(){t.forEach((function(t){var n=new w(t.code,t.title,t.academicItemType,t.additionalInfo,t.creditPoints,N(t.curriculumStructure),t.description,t.facultyName,t.implementationYear,t.intakePeriod,t.programConstraints,t.schoolName,t.studyLevel,t.urlMap);e.addProgram(n)}))}))}))}},{key:"loadAllSpecialisations",value:function(){var e=this;return fetch(new Request("https://raw.githubusercontent.com/termtangles/termtangles_data/main/publish/research/all_specialisations.json",{method:"GET",mode:"cors",cache:"default"})).then((function(e){return e.json()})).then((function(t){Object(f.t)((function(){t.forEach((function(t){var n=new I(t.code,t.title,t.academicItemType,t.creditPoints,N(t.curriculumStructure),t.description,t.facultyName,t.implementationYear,t.keywords,t.schoolName,t.studyLevel,t.urlMap);e.addSpecialisation(n)}))}))}))}}]),e}(),M=function(){function e(t,n){Object(p.a)(this,e),this.courseState=void 0,this.progressionState=void 0,Object(f.o)(this),this.courseState=t,this.progressionState=n}return Object(g.a)(e,[{key:"courseSearchData",get:function(){return this.courseState.allCourses.sort((function(e,t){return e.code>t.code?1:-1}))}},{key:"programSearchData",get:function(){return this.progressionState.allPrograms.sort((function(e,t){return e.title>t.title?1:-1}))}},{key:"specialisationSearchData",get:function(){return this.progressionState.allSpecialisations.sort((function(e,t){return e.title>t.title?1:-1}))}}]),e}(),D=new y,k=new A,R=new M(D,k),L=Object(s.createContext)({courseState:D,progressionState:k,searchDataState:R}),_=n(32),F=function(e,t){return e.completedGroup.id===t?e.completedGroup:e.plannedGroup.id===t?e.plannedGroup:e.allocatedGroups.find((function(e){return e.id===t}))},U=function(){function e(t){Object(p.a)(this,e),this.courseState=void 0,this.plannerState=void 0,this._currentDraggableProps={isDragging:!1,possibleTerms:[],prerequisiteCourseIds:new Set},Object(f.p)(this,{_currentDraggableProps:f.q,synchronizePlannerState:!1,getCourseState:f.h,getPlannerState:f.h,setCurrentDraggableProps:f.f,currentDraggableProps:f.h,clearCurrentDraggableProps:f.f}),this.courseState=t,this.plannerState={id:"plannerState",title:"Visualizer",allocatedGroups:[],yearGroups:[],completedGroup:{id:"completed",title:"Completed",term:null,courses:[]},plannedGroup:{id:"planned",title:"Planned",term:null,courses:[]}}}return Object(g.a)(e,[{key:"synchronizeCourseList",value:function(e,t){var n=new Set(e),r=new Set(t),s=new Set(Object(h.a)(r).filter((function(e){return!n.has(e)}))),i=new Set(Object(h.a)(n).filter((function(e){return!r.has(e)})));s.forEach((function(e){var n=t.indexOf(e);t.splice(n,1)})),i.forEach((function(e){t.push(e)}))}},{key:"getDisplayableTerms",value:function(){for(var e=this.courseState.getMaxAllocatedYear,t=[],n=(new Date).getFullYear();n<=e+1;++n)t.push(new O(n,"Summer Term")),t.push(new O(n,"Term 1")),t.push(new O(n,"Term 2")),t.push(new O(n,"Term 3"));return t}},{key:"synchronizePlannerState",value:function(){var e=this,t=this.getDisplayableTerms(),n=Object(h.a)(new Set(t.map((function(e){return e.year})))).sort(),r=t.map((function(t){var n,r;return{id:t.getMappingName,title:t.getFullName,term:t,courses:null!==(n=null===(r=e.plannerState.allocatedGroups.find((function(e){return e.id===t.getMappingName})))||void 0===r?void 0:r.courses)&&void 0!==n?n:[]}})),s=Object(_.a)(Object(_.a)({},this.plannerState),{},{allocatedGroups:r,yearGroups:n.map((function(e){var t;return{id:"yearGroup_".concat(e.toString()),title:e.toString(),year:e,courseGroups:null!==(t=r.filter((function(t){var n;return(null===(n=t.term)||void 0===n?void 0:n.year)===e})))&&void 0!==t?t:[]}}))});s.allocatedGroups.forEach((function(t){var n;e.synchronizeCourseList(null!==(n=e.courseState.termCourseMap.get(t.id))&&void 0!==n?n:[],t.courses)})),s.yearGroups.forEach((function(t){t.courseGroups.forEach((function(t){var n;e.synchronizeCourseList(null!==(n=e.courseState.termCourseMap.get(t.id))&&void 0!==n?n:[],t.courses)}))})),this.synchronizeCourseList(this.courseState.plannedCourses,s.plannedGroup.courses),this.synchronizeCourseList(this.courseState.completedCourses,s.completedGroup.courses),this.plannerState=s}},{key:"getCourseState",get:function(){return this.courseState}},{key:"getPlannerState",get:function(){return this.synchronizePlannerState(),this.plannerState}},{key:"setCurrentDraggableProps",value:function(e){this._currentDraggableProps=e}},{key:"currentDraggableProps",get:function(){return Object(_.a)({},this._currentDraggableProps)}},{key:"clearCurrentDraggableProps",value:function(){this.setCurrentDraggableProps({isDragging:!1,possibleTerms:[],prerequisiteCourseIds:new Set})}}]),e}(),V=n(30),B=n(11),G=n(13),q=n(22),z=n(338),Q=n(337),H=n(75),Y=n(347),W=n(340),J=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.name=t,this.fnGetTargetValue=n,this.possibleValues=new Set,this.selectedValues=new Set,this.filterResultMapping=new Map,this.initializeFilter=function(e){r.possibleValues=new Set(e.map((function(e){return r.fnGetTargetValue(e)})).flat().filter((function(e){return""!==e})))},this.applyFilter=function(e){var t=e;return r.selectedValues.size>0&&(t=e.filter((function(e){return Object(h.a)(r.selectedValues.values()).filter((function(t){return r.fnGetTargetValue(e).includes(t)})).length>0}))),t},Object(f.o)(this)}return Object(g.a)(e,[{key:"getFilterState",value:function(e){var t=this,n=0===Object(h.a)(this.possibleValues.values()).filter((function(e){return isNaN(Number(e))})).length;return Object(h.a)(this.possibleValues.values()).sort((function(e,t){return n?Number(e)-Number(t):e>t?1:-1})).map((function(n){return{filterElementName:n.toString(),numMatchingRecords:e.filter((function(e){return t.fnGetTargetValue(e).includes(n)})).length}}))}},{key:"isSelected",value:function(e){return this.selectedValues.has(e)}},{key:"toggleValue",value:function(e){this.possibleValues.has(e)?this.selectedValues.has(e)?this.selectedValues.delete(e):this.selectedValues.add(e):console.log("invalid value toggled: ".concat(e))}},{key:"resetValue",value:function(e){this.possibleValues.has(e)?this.selectedValues.has(e)&&this.selectedValues.delete(e):console.log("invalid value toggled: ".concat(e))}}]),e}();!function(e){e[e.COURSES=0]="COURSES",e[e.PROGRAMS=1]="PROGRAMS",e[e.SPECIALISATIONS=2]="SPECIALISATIONS"}(S||(S={}));var X,K,Z,$,ee,te,ne,re,se,ie,ae,oe=function(){function e(t){var n=this;Object(p.a)(this,e),this.searchDataState=t,this.queryText="",this.isLoading=!0,this.resultsPerPage=10,this.isInputActive=!1,this.searchFilters={courseFilters:[],programFilters:[],specialisationFilters:[]},this.searchResults={courseSearchResults:[],programSearchResults:[],specialisationSearchResults:[]},this.activeItem=S.COURSES,this.setActiveItem=function(e){n.activeItem=e},Object(f.o)(this),Object(f.r)((function(){return t.courseSearchData}),(function(){n.setIsLoading(!1),n.searchFilters.courseFilters=function(e){var t=[new J("Offering Periods",(function(e){return e.termOffering})),new J("Faculty",(function(e){return[e.facultyName]})),new J("School",(function(e){return[e.schoolName]})),new J("Credit Points",(function(e){return[e.creditPoints.toString()]}))];return t.forEach((function(t){return t.initializeFilter(e)})),t}(t.courseSearchData)}),{fireImmediately:!0}),Object(f.r)((function(){return t.programSearchData}),(function(){n.setIsLoading(!1),n.searchFilters.programFilters=function(e){var t=[new J("Intake Periods",(function(e){return e.intakePeriod})),new J("Faculty",(function(e){return[e.facultyName]})),new J("School",(function(e){return[e.schoolName]})),new J("Credit Points",(function(e){return[e.creditPoints.toString()]})),new J("Academic Item Type",(function(e){return[e.academicItemType]}))];return t.forEach((function(t){return t.initializeFilter(e)})),t}(t.programSearchData)}),{fireImmediately:!0}),Object(f.r)((function(){return t.specialisationSearchData}),(function(){n.setIsLoading(!1),n.searchFilters.specialisationFilters=function(e){var t=[new J("Faculty",(function(e){return[e.facultyName]})),new J("School",(function(e){return[e.schoolName]})),new J("Credit Points",(function(e){return[e.creditPoints.toString()]})),new J("Academic Item Type",(function(e){return[e.academicItemType]}))];return t.forEach((function(t){return t.initializeFilter(e)})),t}(t.specialisationSearchData)}),{fireImmediately:!0}),Object(f.g)((function(){n.searchCourses()})),Object(f.g)((function(){n.searchPrograms()})),Object(f.g)((function(){n.searchSpecialisations()}))}return Object(g.a)(e,[{key:"shouldShowPanel",get:function(){return this.isInputActive||this.queryText.length>0}},{key:"setInputActive",value:function(e){this.isInputActive=e}},{key:"setQueryText",value:function(e){this.queryText=e}},{key:"setIsLoading",value:function(e){this.isLoading=e}},{key:"setResultsPerPage",value:function(e){this.resultsPerPage=e}},{key:"searchCourses",value:function(){var e=this,t=this.searchDataState.courseSearchData;""!==this.queryText&&(t=this.searchDataState.courseSearchData.filter((function(t){return t.code.toLowerCase().includes(e.queryText.toLowerCase())||t.title.toLowerCase().includes(e.queryText.toLowerCase())}))),this.searchFilters.courseFilters.forEach((function(e){t=e.applyFilter(t)})),Object(f.s)((function(){return e.searchResults.courseSearchResults=t}))}},{key:"searchPrograms",value:function(){var e=this,t=this.searchDataState.programSearchData;""!==this.queryText&&(t=this.searchDataState.programSearchData.filter((function(t){return t.code.toLowerCase().includes(e.queryText.toLowerCase())||t.title.toLowerCase().includes(e.queryText.toLowerCase())}))),this.searchFilters.programFilters.forEach((function(e){t=e.applyFilter(t)})),Object(f.s)((function(){return e.searchResults.programSearchResults=t}))}},{key:"searchSpecialisations",value:function(){var e=this,t=this.searchDataState.specialisationSearchData;""!==this.queryText&&(t=this.searchDataState.specialisationSearchData.filter((function(t){return t.code.toLowerCase().includes(e.queryText.toLowerCase())||t.title.toLowerCase().includes(e.queryText.toLowerCase())}))),this.searchFilters.specialisationFilters.forEach((function(e){t=e.applyFilter(t)})),Object(f.s)((function(){return e.searchResults.specialisationSearchResults=t}))}}]),e}(),ce=n(12),ue=n(346),le=n(345),de={backgroundColor:"#4CAF50",border:"none",color:"white",padding:"15px 32px",textDecoration:"none",display:"inline-block",fontSize:"16px",margin:"4px 2px",cursor:"pointer",width:"100%"},he={backgroundColor:"#dcdcdc",border:"none",color:"black",padding:"15px 32px",textDecoration:"none",display:"inline-block",fontSize:"16px",margin:"4px 2px",cursor:"pointer",width:"100%",height:"100%"},pe=n(341),ge=n(2),fe=Object(G.a)((function(e){var t=Object(s.useState)(new Set),n=Object(V.a)(t,2),r=n[0],i=n[1];return Object(ge.jsx)(q.a,{children:function(){var t=e.filter.getFilterState(e.searchResults);return Object(ge.jsxs)(Y.a.Item,{children:[Object(ge.jsx)(le.a.Title,{active:r.has(e.filter.name),content:e.filter.name,onClick:function(){var t=new Set(r);r.has(e.filter.name)?t.delete(e.filter.name):t.add(e.filter.name),i(t)}}),Object(ge.jsx)(le.a.Content,{active:r.has(e.filter.name),content:Object(ge.jsx)(pe.a,{children:Object(ge.jsx)(pe.a.Group,{grouped:!0,children:t.map((function(t){return Object(ge.jsx)(pe.a.Checkbox,{label:"".concat(t.filterElementName),name:e.filter.name,type:"checkbox",value:t.filterElementName,checked:e.filter.isSelected(t.filterElementName),onClick:function(){e.filter.toggleValue(t.filterElementName)}},t.filterElementName)}))})})})]},e.filter.name)}})})),je=(n(239),Object(G.a)((function(e){return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsxs)("div",{children:[Object(ge.jsx)("div",{className:"resetbutton",children:Object(ge.jsx)("button",{style:he,onClick:function(){e.filters.map((function(t){t.getFilterState(e.searchResults).map((function(e){t.resetValue(e.filterElementName)}))}))},children:"Reset Filter"})}),Object(ge.jsx)(le.a,{fluid:!0,as:Y.a,vertical:!0,children:e.filters.map((function(t){return Object(ge.jsx)(fe,{searchResults:e.searchResults,filter:t})}))})]})}})}))),be=n(343),me=n(308),Oe=n(349),ve=Object(ce.a)(be.a)(X||(X=Object(B.a)(["\n  &&& {\n    border: 0px solid lightgrey;\n    padding: 6px;\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    margin:0px\n  }\n  &&&&{\n    padding:1em 0;\n  }\n"]))),Se=Object(ce.a)(be.a.Header)(K||(K=Object(B.a)(["\n"]))),xe=Object(ce.a)(be.a.Content)(Z||(Z=Object(B.a)(["\n  &&&&& {\n    flex: 1;\n    padding:0;\n  }\n"]))),ye=Object(ce.a)(be.a.Extra)($||($=Object(B.a)(["\n  &&&& {\n    margin: 0;\n    text-align: right;\n    flex: 1;\n  }\n"]))),Pe=Object(ce.a)(be.a.Group)(ee||(ee=Object(B.a)(["\n  && {\n    padding: 15px 0px 10px 0px;\n    margin: 0px;\n  }\n"]))),Ce=Object(ce.a)(Oe.a)(te||(te=Object(B.a)(["\n  max-height: 40px;\n"]))),Ee=Object(ce.a)(ue.a.Column)(ne||(ne=Object(B.a)(["\n"]))),Ne=Object(G.a)((function(e){var t=Object(s.useState)(!1),n=Object(V.a)(t,2),i=n[0],a=n[1];return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsxs)(ve,{onMouseOver:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:[Object(ge.jsxs)(xe,{children:[Object(ge.jsx)(Se,{children:e.course.code}),Object(ge.jsx)(be.a.Description,{children:e.course.title})]}),i?Object(ge.jsx)(xe,{children:Object(ge.jsx)(ye,{children:Object(ge.jsxs)(me.a.Group,{children:[Object(ge.jsx)(me.a,{basic:e.course.courseStatus!==r.PLANNED&&e.course.courseStatus!==r.ALLOCATED,icon:e.course.courseStatus===r.ALLOCATED?"calendar alternate outline":"bookmark",content:e.course.courseStatus===r.ALLOCATED?"Scheduled":"Interested",color:e.course.courseStatus===r.ALLOCATED?"orange":"blue",size:"medium",onClick:function(){e.course.courseStatus===r.PLANNED||e.course.courseStatus===r.ALLOCATED?e.course.setUnplanned():e.course.setPlanned()}}),Object(ge.jsx)(me.a,{basic:e.course.courseStatus!==r.COMPLETED,icon:"check",content:"Done",color:"green",size:"medium",onClick:function(){e.course.courseStatus===r.COMPLETED?e.course.setUnplanned():e.course.setCompleted()}}),Object(ge.jsx)(me.a,{basic:!0,icon:"book",content:"Handbook",color:"red",size:"medium",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}("https://www.handbook.unsw.edu.au".concat(e.course.urlMap))}})]})})}):Object(ge.jsxs)(xe,{children:[Object(ge.jsxs)(ye,{children:[e.course.creditPoints," UOC"]}),Object(ge.jsx)(ye,{children:e.course.courseStatus===r.PLANNED?Object(ge.jsx)(H.a,{color:"red",className:"bookmark"}):e.course.courseStatus===r.ALLOCATED?Object(ge.jsx)(H.a,{color:"orange",className:"calendar alternate outline"}):e.course.courseStatus===r.COMPLETED?Object(ge.jsx)(H.a,{color:"green",className:"check"}):""})]})]})}})})),Te=(Object(ce.a)(be.a.Group)(re||(re=Object(B.a)(["\n  &&& {\n    padding: 15px 0px 10px 0px;\n  }\n"]))),Object(G.a)((function(e){return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsx)(Pe,{divided:!0,children:e.results.map((function(e){return Object(ge.jsx)(Ne,{course:e})}))})}})}))),we=Object(G.a)((function(e){var t=Object(s.useState)(1),n=Object(V.a)(t,2),r=n[0],i=n[1];return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)(ue.a,{columns:12,divided:!0,container:!0,children:Object(ge.jsxs)(ue.a.Row,{children:[Object(ge.jsx)(ue.a.Column,{width:4,children:Object(ge.jsx)(je,{searchResults:e.searchPanelViewModel.searchResults.courseSearchResults,filters:e.searchPanelViewModel.searchFilters.courseFilters})},"filter"),Object(ge.jsxs)(Ee,{width:12,children:[Object(ge.jsx)(Te,{results:e.searchPanelViewModel.searchResults.courseSearchResults.slice(e.searchPanelViewModel.resultsPerPage*(r-1),Math.min(e.searchPanelViewModel.searchResults.courseSearchResults.length,e.searchPanelViewModel.resultsPerPage*r))}),Object(ge.jsx)(Ce,{totalPages:Math.ceil(e.searchPanelViewModel.searchResults.courseSearchResults.length/e.searchPanelViewModel.resultsPerPage),onPageChange:function(e,t){i(Number(t.activePage))},activePage:r})]},"results")]})})})}})})),Ie=Object(G.a)((function(e){var t=Object(s.useState)(!1),n=Object(V.a)(t,2),r=n[0],i=n[1];return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsxs)(ve,{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(ge.jsxs)(xe,{children:[Object(ge.jsx)(be.a.Header,{children:e.program.title}),Object(ge.jsxs)(be.a.Description,{children:[e.program.academicItemType," - ",e.program.code]})]}),r?Object(ge.jsx)(xe,{children:Object(ge.jsx)(ye,{children:Object(ge.jsxs)(me.a.Group,{children:[Object(ge.jsx)(me.a,{basic:e.program.progressionStatus===j.UNPLANNED,icon:e.program.progressionStatus===j.UNPLANNED?"plus circle":"minus circle",content:e.program.progressionStatus===j.UNPLANNED?"Add":"Remove",color:e.program.progressionStatus===j.UNPLANNED?"green":"red",size:"medium",onClick:function(){e.program.progressionStatus===j.UNPLANNED?e.program.setPlanned():e.program.setUnplanned()}}),Object(ge.jsx)(me.a,{basic:!0,icon:"book",content:"Handbook",color:"red",size:"medium",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}("https://www.handbook.unsw.edu.au".concat(e.program.urlMap))}})]})})}):Object(ge.jsxs)(xe,{children:[Object(ge.jsxs)(ye,{children:[e.program.creditPoints," UOC"]}),Object(ge.jsx)(ye,{children:e.program.progressionStatus===j.PLANNED?Object(ge.jsx)(H.a,{color:"green",className:"calendar alternate outline"}):Object(ge.jsx)(ge.Fragment,{})})]})]})}})})),Ae=Object(G.a)((function(e){return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsx)(Pe,{divided:!0,children:e.results.map((function(e){return Object(ge.jsx)(Ie,{program:e})}))})}})})),Me=Object(G.a)((function(e){var t=Object(s.useState)(1),n=Object(V.a)(t,2),r=n[0],i=n[1];return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)(ue.a,{columns:12,divided:!0,container:!0,children:Object(ge.jsxs)(ue.a.Row,{children:[Object(ge.jsx)(ue.a.Column,{width:4,children:Object(ge.jsx)(je,{searchResults:e.searchPanelViewModel.searchResults.programSearchResults,filters:e.searchPanelViewModel.searchFilters.programFilters})},"filter"),Object(ge.jsxs)(Ee,{width:12,children:[Object(ge.jsx)(Ae,{results:e.searchPanelViewModel.searchResults.programSearchResults.slice(e.searchPanelViewModel.resultsPerPage*(r-1),Math.min(e.searchPanelViewModel.searchResults.programSearchResults.length,e.searchPanelViewModel.resultsPerPage*r))}),Object(ge.jsx)(Ce,{totalPages:Math.ceil(e.searchPanelViewModel.searchResults.programSearchResults.length/e.searchPanelViewModel.resultsPerPage),onPageChange:function(e,t){i(Number(t.activePage))},activePage:r})]},"results")]})})})}})})),De=Object(G.a)((function(e){var t=Object(s.useState)(!1),n=Object(V.a)(t,2),r=n[0],i=n[1];return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsxs)(ve,{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(ge.jsxs)(xe,{children:[Object(ge.jsx)(be.a.Header,{children:e.specialisation.title}),Object(ge.jsxs)(be.a.Description,{children:[e.specialisation.academicItemType," - ",e.specialisation.code]})]}),r?Object(ge.jsx)(xe,{children:Object(ge.jsx)(ye,{children:Object(ge.jsxs)(me.a.Group,{children:[Object(ge.jsx)(me.a,{basic:e.specialisation.progressionStatus===j.UNPLANNED,icon:e.specialisation.progressionStatus===j.UNPLANNED?"plus circle":"minus circle",content:e.specialisation.progressionStatus===j.UNPLANNED?"Add":"Remove",color:e.specialisation.progressionStatus===j.UNPLANNED?"green":"red",size:"medium",onClick:function(){e.specialisation.progressionStatus===j.UNPLANNED?e.specialisation.setPlanned():e.specialisation.setUnplanned()}}),Object(ge.jsx)(me.a,{basic:!0,icon:"book",content:"Handbook",color:"red",size:"medium",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener, noreferrer");t&&(t.opener=null)}("https://www.handbook.unsw.edu.au".concat(e.specialisation.urlMap))}})]})})}):Object(ge.jsxs)(xe,{children:[Object(ge.jsxs)(ye,{children:[e.specialisation.creditPoints," UOC"]}),Object(ge.jsx)(ye,{children:e.specialisation.progressionStatus===j.PLANNED?Object(ge.jsx)(H.a,{color:"green",className:"calendar alternate outline"}):Object(ge.jsx)(ge.Fragment,{})})]})]})}})})),ke=Object(G.a)((function(e){return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsx)(Pe,{divided:!0,children:e.results.map((function(e){return Object(ge.jsx)(De,{specialisation:e})}))})}})})),Re=Object(G.a)((function(e){var t=Object(s.useState)(1),n=Object(V.a)(t,2),r=n[0],i=n[1];return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)(ue.a,{columns:12,divided:!0,container:!0,children:Object(ge.jsxs)(ue.a.Row,{children:[Object(ge.jsx)(ue.a.Column,{width:4,children:Object(ge.jsx)(je,{searchResults:e.searchPanelViewModel.searchResults.specialisationSearchResults,filters:e.searchPanelViewModel.searchFilters.specialisationFilters})},"filter"),Object(ge.jsxs)(Ee,{width:12,children:[Object(ge.jsx)(ke,{results:e.searchPanelViewModel.searchResults.specialisationSearchResults.slice(e.searchPanelViewModel.resultsPerPage*(r-1),Math.min(e.searchPanelViewModel.searchResults.specialisationSearchResults.length,e.searchPanelViewModel.resultsPerPage*r))}),Object(ge.jsx)(Ce,{totalPages:Math.ceil(e.searchPanelViewModel.searchResults.specialisationSearchResults.length/e.searchPanelViewModel.resultsPerPage),onPageChange:function(e,t){i(Number(t.activePage))},activePage:r})]},"results")]})})})}})})),Le=ce.a.div(se||(se=Object(B.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: 6px;\n"]))),_e=ce.a.h4(ie||(ie=Object(B.a)(["\n  &&& {\n    margin: 1rem 0 0.5rem 0.5rem\n  }\n"]))),Fe=Object(G.a)((function(e){var t=e.searchPanelViewModel,n=Object(s.useState)(!1),r=Object(V.a)(n,2),a=(r[0],r[1],function(){var e=-1;switch(t.activeItem){case S.COURSES:e=t.searchResults.courseSearchResults.length;break;case S.PROGRAMS:e=t.searchResults.programSearchResults.length;break;case S.SPECIALISATIONS:e=t.searchResults.specialisationSearchResults.length}return e});return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsx)(i.a.Fragment,{children:Object(ge.jsxs)(z.a,{children:[Object(ge.jsx)(Q.a,{placeholder:"Click on the search bar to get started!",fluid:!0,loading:t.isLoading,icon:Object(ge.jsx)(H.a,{link:t.isInputActive,className:t.isInputActive?"x":"search",onClick:function(){t.setQueryText(""),t.setInputActive(!1)}}),onClick:function(){t.setInputActive(!0)},onChange:function(e,n){return t.setQueryText(n.value)},value:t.queryText}),t.shouldShowPanel?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)(Y.a,{pointing:!0,secondary:!0,children:[Object(ge.jsx)(Y.a.Item,{name:"courses",active:t.activeItem===S.COURSES,onClick:function(){return t.setActiveItem(S.COURSES)},children:"Courses (".concat(t.searchResults.courseSearchResults.length,")")}),Object(ge.jsx)(Y.a.Item,{name:"programs",active:t.activeItem===S.PROGRAMS,onClick:function(){return t.setActiveItem(S.PROGRAMS)},children:"Programs (".concat(t.searchResults.programSearchResults.length,")")}),Object(ge.jsx)(Y.a.Item,{name:"specialisations",active:t.activeItem===S.SPECIALISATIONS,onClick:function(){return t.setActiveItem(S.SPECIALISATIONS)},children:"Specialisations (".concat(t.searchResults.specialisationSearchResults.length,")")})]}),Object(ge.jsxs)(Le,{children:[Object(ge.jsxs)(_e,{children:["Found ",a()," result",1===a()?"":"s"]}),Object(ge.jsxs)("span",{children:[Object(ge.jsx)("span",{style:{marginRight:"10px"},children:"Results per page"}),Object(ge.jsx)(W.a,{text:t.resultsPerPage.toString(),selection:!0,options:[{text:10,value:10},{text:20,value:20},{text:30,value:30},{text:50,value:50}],onChange:function(e,n){t.setResultsPerPage(Number(n.value))}})]})]}),t.activeItem===S.COURSES?Object(ge.jsx)(we,{searchPanelViewModel:t}):Object(ge.jsx)(ge.Fragment,{}),t.activeItem===S.PROGRAMS?Object(ge.jsx)(Me,{searchPanelViewModel:t}):Object(ge.jsx)(ge.Fragment,{}),t.activeItem===S.SPECIALISATIONS?Object(ge.jsx)(Re,{searchPanelViewModel:t}):Object(ge.jsx)(ge.Fragment,{})]}):Object(ge.jsx)(ge.Fragment,{})]})})}})})),Ue=n(90),Ve=n(109),Be=n(339),Ge=ce.a.div(ae||(ae=Object(B.a)(["\n    border: 1px solid lightgrey;\n    border-radius:8px;\n    padding: 8px;\n    margin: 0px 2px 8px 2px;\n    background-color: ",";\n    ","\n    height: fit-content;\n    max-width: 350px;\n"])),(function(e){return e.isPrerequisiteOfCurrentDraggable?"#c5eafc":e.hasErrors()?"#f5bfc8":e.isDragging?"lightgrey":"white"}),(function(e){return e.horizontal?"":"flex-grow: 1;"})),qe={fontSize:13};var ze,Qe,He,Ye,We,Je,Xe,Ke,Ze,$e,et,tt,nt,rt,st,it,at=function(e){var t=e.droppableIndex,n=e.course,r=e.prerequisitesOfCurrentDraggable,s=e.horizontal,i=function(e,t){var n=(e=e.sort()).join(", ");return n="Term Offerings: ".concat(n)}(n.termOffering,n.allocatedTerm),a=function(e){var t=[],n=[],r=[],s=/<br\/>/gi;if(0===e.length)return[""];if(1===e.length)return[e[0].message.replace(s,""),"".concat(e[0].missing)];for(var i=0;i<e.length;i++)t.push(e[i].message.replace(s,"")),n.push(e[i].missing);for(var a=0;a<e.length;a++)""!==n[a]&&r.push(n[a]);return[t.join(" & "),r.join(" & ")]}(n.errors);return Object(ge.jsx)(Ue.b,{draggableId:n.code,index:t,children:function(e,t){return Object(ge.jsx)(Ge,Object(_.a)(Object(_.a)(Object(_.a)({horizontal:s},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,isDragging:t.isDragging,isPrerequisiteOfCurrentDraggable:r.has(n.id),hasErrors:function(){return n.hasErrors()},children:Object(ge.jsx)(Be.a,{title:Object(ge.jsxs)("span",{children:[Object(ge.jsx)("p",{style:qe,children:i}),Object(ge.jsx)("p",{style:qe,children:a[0]}),Object(ge.jsx)("p",{style:qe,children:a[1]})]}),"aria-label":"add","aria-multiline":"true",arrow:!0,children:Object(ge.jsxs)("p",{children:[" ",n.code," - ",n.title]})})}))}})},ot=ce.a.div(ze||(ze=Object(B.a)(["\n    margin: 8px;\n    border: 1px solid lightgrey;\n    border-radius:2px;\n\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    ","\n"])),(function(e){return e.horizontal?"":"max-width: 350px;"})),ct=ce.a.h3(Qe||(Qe=Object(B.a)(["\n    padding: 6px;\n    margin: 0 0;\n    display: flex;\n    width: 200px;\n"]))),ut=ce.a.div(He||(He=Object(B.a)(["\n    padding: 6px;\n    min-height: 100px;\n    transition: background-color 0.2s ease;\n    background-color: ",";\n    flex-grow: 1;\n    display: flex;\n    flex-direction: ",";\n    flex-flow: row ",";\n    align-content: flex-start;\n"])),(function(e){return e.isDraggingOver?e.isValidDroppable?"#8debb7":"#ff99b0":e.isPossibleTermOfCurrentDraggable?"#cafae0":("completed"===e.courseID||e.courseID,"#edf2f4")}),(function(e){return e.horizontal?"row":"column"}),(function(e){return e.horizontal?"wrap":"nowrap"})),lt=ce.a.div(Ye||(Ye=Object(B.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n"]))),dt=Object(ce.a)(Ve.a)(We||(We=Object(B.a)(["\n    && {\n        margin: auto 0 auto 0;\n        height: fit-content;\n        vertical-align: middle;\n        white-space: nowrap;\n    }\n"]))),ht=function(e){var t=e.id,n=e.title,r=e.courses,s=e.term,i=e.currentDraggableProps,a=e.horizontal,o=function(e){return i.possibleTerms.filter((function(t){return t.equals(e)})).length>0},c=r.map((function(e){return e.creditPoints})).reduce((function(e,t){return e+t}),0);return Object(ge.jsxs)(ot,{horizontal:a,children:[Object(ge.jsxs)(lt,{children:[Object(ge.jsx)(ct,{children:n}),s?Object(ge.jsx)(dt,{color:18===c||3===r.length?"green":c<18?"orange":"yellow",content:"".concat(c," UOC"),size:"small"}):Object(ge.jsx)(ge.Fragment,{})]}),Object(ge.jsx)(Ue.c,{droppableId:t,direction:a?"horizontal":"vertical",children:function(e,t){return Object(ge.jsxs)(ut,Object(_.a)(Object(_.a)({horizontal:!0},e.droppableProps),{},{ref:e.innerRef,isDraggingOver:t.isDraggingOver,courseID:e.droppableProps["data-rbd-droppable-id"],isPossibleTermOfCurrentDraggable:o(s),isValidDroppable:null===s||o(s),children:[r?r.map((function(e,t){return Object(ge.jsx)(at,{horizontal:a,course:e,droppableIndex:t,prerequisitesOfCurrentDraggable:i.prerequisiteCourseIds},e.code)})):void 0,e.placeholder]}))}})]})},pt=ce.a.div(Je||(Je=Object(B.a)(["\n    margin: 8px;\n    border: 1px solid lightgrey;\n    border-radius:2px;\n    width: 250px;\n"]))),gt=ce.a.h3(Xe||(Xe=Object(B.a)(["\n    padding: 6px;\n    margin: 3px;\n    display: flex;\n    width: 200px;\n"]))),ft=function(e){return Object(ge.jsxs)(pt,{children:[Object(ge.jsx)(gt,{children:e.year}),e.courseGroups.map((function(t){return Object(ge.jsx)(ht,{id:t.id,title:t.title,courses:t.courses,term:t.term,currentDraggableProps:e.currentDraggableProps},t.id)}))]})},jt=ce.a.div(Ke||(Ke=Object(B.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),bt=ce.a.div(Ze||(Ze=Object(B.a)(["\n  display: inherit;\n  overflow: auto;\n"]))),mt=Object(G.a)((function(e){var t=e.plannerViewModel;return Object(ge.jsx)(q.a,{children:function(){var e=t.getCourseState,n=t.getPlannerState;return Object(ge.jsx)(i.a.Fragment,{children:Object(ge.jsxs)(Ue.a,{onBeforeCapture:function(){t.setCurrentDraggableProps(Object(_.a)(Object(_.a)({},t.currentDraggableProps),{},{isDragging:!0}))},onDragStart:function(n,r){var s=e.getCourseById(n.draggableId);s&&t.setCurrentDraggableProps(Object(_.a)(Object(_.a)({},t.currentDraggableProps),{},{possibleTerms:t.getDisplayableTerms().filter((function(t){return 0===e.getMissingRequirementsWhenAssigningCourseToTerm(s,t).length})),prerequisiteCourseIds:new Set(e.getFlattenedPrerequisiteList(s.prerequisites))}))},onDragEnd:function(r){var s=r.destination,i=r.source,a=r.draggableId;if(s){var o=e.getCourseById(a);if(o&&i&&s){var c=F(n,i.droppableId),u=F(n,s.droppableId);null===c||void 0===c||c.courses.splice(i.index,1),null===u||void 0===u||u.courses.splice(s.index,0,o),s.droppableId!==i.droppableId&&("trash"===s.droppableId?o.setUnplanned():"completed"===s.droppableId?o.setCompleted():"planned"===s.droppableId?o.setPlanned():o.setAllocated(O.fromMappingName(s.droppableId))),t.synchronizePlannerState(),t.clearCurrentDraggableProps()}}},children:[Object(ge.jsx)(ht,{horizontal:!0,id:n.completedGroup.id,title:n.completedGroup.title,term:null,courses:n.completedGroup.courses,currentDraggableProps:t.currentDraggableProps},n.completedGroup.id),Object(ge.jsxs)(jt,{children:[Object(ge.jsx)(ht,{id:n.plannedGroup.id,title:n.plannedGroup.title,courses:n.plannedGroup.courses,term:null,currentDraggableProps:t.currentDraggableProps},n.plannedGroup.id),Object(ge.jsx)(bt,{children:n.yearGroups.map((function(e){return Object(ge.jsx)(ft,{id:e.id,title:e.title,year:e.year,courseGroups:e.courseGroups,currentDraggableProps:t.currentDraggableProps})}))})]}),t.currentDraggableProps.isDragging?Object(ge.jsx)(ht,{horizontal:!0,id:"trash",title:"Remove",term:null,courses:[],currentDraggableProps:t.currentDraggableProps},"trash"):Object(ge.jsx)(ge.Fragment,{})]})})}})})),Ot=Object(G.a)((function(e){var t=Object(s.useContext)(L);return Object(ge.jsx)(q.a,{children:function(){return e.curriculumElements.length>0?Object(ge.jsx)(Pe,{divided:!0,children:e.curriculumElements.sort((function(e,t){return Number(e.order)-Number(t.order)})).map((function(e){if(e.isCourse()){var n=t.courseState.getCourseById(e.itemCode);return n?Object(ge.jsx)(Ne,{course:n}):Object(ge.jsx)(ge.Fragment,{})}if(e.isSpecialisation()){var r=t.progressionState.getSpecialisationById(e.itemCode);return r?Object(ge.jsx)(De,{specialisation:r}):Object(ge.jsx)(ge.Fragment,{})}return Object(ge.jsx)("p",{children:e.description})}))}):Object(ge.jsx)(ge.Fragment,{})}})})),vt=n(208),St=n(209),xt=n.n(St),yt=Object(ce.a)(Ve.a)($e||($e=Object(B.a)(["\n  &&& {\n    margin-left:auto\n    \n  }\n"]))),Pt=Object(ce.a)(le.a.Title)(et||(et=Object(B.a)(["\n  &&& {\n    display:flex;\n  }\n"]))),Ct=ce.a.div(tt||(tt=Object(B.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Et=ce.a.a(nt||(nt=Object(B.a)(["\n  min-width: 80px;\n  text-align: right;\n"]))),Nt=ce.a.div(rt||(rt=Object(B.a)(["\n  margin-left:10px;\n"]))),Tt=Object(G.a)((function(e){var t=function(t){var n=e.progressionPlannerViewModel.calculateUocOfChildren(t);return t.creditPoints>0?Object(ge.jsxs)(yt,{size:"small",color:n===t.creditPoints?"green":n<t.creditPoints?"orange":"yellow",children:[n," / ",t.creditPoints," UOC"]}):n>0?Object(ge.jsxs)(yt,{size:"small",color:"green",children:[n," UOC"]}):void 0};return Object(ge.jsx)(q.a,{children:function(){return e.curriculumContainer.length>0?Object(ge.jsx)(le.a.Accordion,{exclusive:!1,panels:Object(h.a)(e.curriculumContainer).sort((function(e,t){return Number(e.order)-Number(t.order)})).map((function(n){return{key:n.id,title:Object(ge.jsxs)(Pt,{children:[Object(ge.jsx)(H.a,{className:e.progressionPlannerViewModel.isContainerActive(n.id)?"caret down":"caret right"}),n.title,t(n)]}),content:{content:Object(ge.jsxs)("div",{children:[Object(ge.jsxs)(Nt,{children:[Object(ge.jsxs)(Ct,{children:[Object(ge.jsx)("span",{children:Object(vt.a)(xt()(n.description))}),n.containers.length>0?Object(ge.jsx)(Et,{href:"javascript:void(0);",onClick:function(){return e.progressionPlannerViewModel.toggleAllContainers(n)},children:e.progressionPlannerViewModel.isAnySubContainerActive(n)?"Collapse All":"Expand All"}):Object(ge.jsx)(ge.Fragment,{})]}),Object(ge.jsx)(Ot,{entityId:e.entityId,curriculumElements:n.elements})]}),Object(ge.jsx)(Tt,{entityId:e.entityId,curriculumContainer:n.containers,progressionPlannerViewModel:e.progressionPlannerViewModel})]})},active:e.progressionPlannerViewModel.isContainerActive(n.id),onTitleClick:function(){e.progressionPlannerViewModel.toggleContainer(n.id)}}}))},e.entityId):Object(ge.jsx)(ge.Fragment,{})}})})),wt=ce.a.a(st||(st=Object(B.a)(["\ncolor: black;\nbackground-color: transparent;\ntext-decoration: none;\n\n&:hover {\n  color: #db2828;\n  background-color: transparent;\n  text-decoration: line-through;\n}\n"]))),It=Object(G.a)((function(e){return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("h2",{children:Object(ge.jsx)(wt,{href:"#",onClick:function(){return e.entity.setUnplanned()},children:e.entity.title})}),Object(ge.jsx)(le.a,{fluid:!0,styled:!0,children:Object(ge.jsx)(Tt,{entityId:e.entity.id,curriculumContainer:e.entity.curriculumStructure,progressionPlannerViewModel:e.progressionPlannerViewModel})})]})}})})),At=Object(ce.a)(z.a)(it||(it=Object(B.a)(["\n  margin:1em 0;\n"]))),Mt=Object(G.a)((function(e){var t=e.progressionPlannerViewModel;return Object(ge.jsx)(q.a,{children:function(){return Object(ge.jsx)(i.a.Fragment,{children:Object(ge.jsx)(At,{children:t.progressionState.plannedProgressionEntities.map((function(e){return Object(ge.jsx)(It,{entity:e,progressionPlannerViewModel:t})}))})})}})})),Dt=function(){function e(t,n){Object(p.a)(this,e),this._progressionState=void 0,this._courseState=void 0,this._progressionPlannerState=void 0,this.displayableContainerPanels=new Set,Object(f.o)(this),this._progressionState=t,this._progressionPlannerState={id:"progressionPlanner",title:"Progression Planner",programs:[],specialisations:[]},this._courseState=n}return Object(g.a)(e,[{key:"progressionState",get:function(){return this._progressionState}},{key:"progressionPlannerState",get:function(){return this._progressionPlannerState}},{key:"calculateUocOfChildren",value:function(e){var t=this,n=0;return e.elements.forEach((function(e){var s;if(e.isCourse())(null===(s=t._courseState.getCourseById(e.itemCode))||void 0===s?void 0:s.courseStatus)!==r.UNPLANNED&&(n+=e.creditPoints);else if(e.isSpecialisation()){var i;(null===(i=t.progressionState.getSpecialisationById(e.itemCode))||void 0===i?void 0:i.progressionStatus)!==j.UNPLANNED&&(n+=e.creditPoints)}})),e.containers.forEach((function(e){n+=t.calculateUocOfChildren(e)})),n}},{key:"toggleContainer",value:function(e){this.displayableContainerPanels.has(e)?this.displayableContainerPanels.delete(e):this.displayableContainerPanels.add(e)}},{key:"isAnySubContainerActive",value:function(e){var t=this;return e.containers.filter((function(e){return t.displayableContainerPanels.has(e.id)||t.isAnySubContainerActive(e)})).length>0}},{key:"toggleAllContainers",value:function(e){var t=this;this.isAnySubContainerActive(e)?e.containers.forEach((function(e){t.setAllContainersInactive(e)})):e.containers.forEach((function(e){t.setAllContainersActive(e)}))}},{key:"setAllContainersActive",value:function(e){var t=this;e.containers.forEach((function(e){t.setAllContainersActive(e)})),this.displayableContainerPanels.add(e.id)}},{key:"setAllContainersInactive",value:function(e){var t=this;e.containers.forEach((function(e){t.setAllContainersInactive(e)})),this.displayableContainerPanels.delete(e.id)}},{key:"isContainerActive",value:function(e){return this.displayableContainerPanels.has(e)}}]),e}(),kt=(n(304),function(){function e(t){Object(p.a)(this,e),this.courseState=void 0,this.courseState=t}return Object(g.a)(e,[{key:"autoPlanCourseState",get:function(){return this.courseState}},{key:"autoPlan",value:function(){for(var e=!0,t=this.getYearsToTryAllocate(this.courseState.getMaxAllocatedYear),n=["Summer Term","Term 1","Term 2","Term 3"];!0===e;){for(var r=this.courseState.plannedCourses,s=(r.length,!1),i=0;i<r.length;i++)for(var a=!1,o=0;o<t.length;o++)if(!1===a)for(var c=0;c<n.length;c++){var u=this.courseState.getMissingRequirementsWhenAssigningCourseToTerm(r[i],new O(t[o],n[c])),l=this.termHasLessThanThreeCourses(t[o],n[c],this.courseState.termCourseMap);if(u=0===u.length,l&&u){this.courseState.assignCourseToTerm(r[i],new O(t[o],n[c])),a=!0,s=!0;break}}!1===s&&(e=!1)}}},{key:"termHasLessThanThreeCourses",value:function(e,t,n){var r=e+"_"+t;return!n.has(r)||!(n.get(r).length>=3)}},{key:"getYearsToTryAllocate",value:function(e){for(var t=[],n=2021;n<=e+4;n++)t.push(n);return t}}]),e}()),Rt=function(e){var t=e.courseState,n=e.progressionState,r=Object(s.useRef)(null),a=function(e){var n,r;1===e.courseStatus&&(null===(n=t.getCourseById(e.code))||void 0===n||n.setPlanned());3===e.courseStatus&&(null===(r=t.getCourseById(e.code))||void 0===r||r.setCompleted())},o=function(e){var n=t.getCourseById(e.code);n&&t.assignCourseToTermHard(n,new O(e.allocatedTerm.year,e.allocatedTerm.name))};return Object(ge.jsxs)(i.a.Fragment,{children:[Object(ge.jsx)("button",{onClick:function(){return r.current.click()},style:he,children:"Upload"}),Object(ge.jsx)("input",{ref:r,onChange:function(e){return function(e){var r=e.target.files[0],s=new FileReader;t.setAllUnplanned(),s.onload=function(e){var t=JSON.parse(e.target.result);t.courseState.map((function(e){2!==e.courseStatus?a(e):2===e.courseStatus&&o(e)})),t.Programs.map((function(e){var t;null===(t=n._programMapById.get(e.code))||void 0===t||t.setPlanned()})),t.Specialisations.map((function(e){var t;null===(t=n._specialisationMapById.get(e.code))||void 0===t||t.setPlanned()}))},s.readAsText(r),e.target.value=null}(e)},type:"file",style:{display:"none"},accept:"application/JSON"})]})},Lt=(n(305),function(e){var t=e.courseState,r=e.progressionState;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("div",{className:"savestyle",children:Object(ge.jsx)("button",{style:he,onClick:function(){var e=function(){console.log(r.plannedPrograms);var e={courseState:[],Programs:[],Specialisations:[]};return t.completedCourses.map((function(t){e.courseState.push(t)})),t.plannedCourses.map((function(t){e.courseState.push(t)})),t.termCourseMap.forEach((function(t){t.map((function(t){e.courseState.push(t)}))})),r.plannedPrograms.map((function(t){e.Programs.push(t)})),r.plannedSpecialisations.map((function(t){e.Specialisations.push(t)})),e}(),s=function(){var e=new Date;return"compsigh_"+e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+" @ "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}(),i=n(306),a=new Blob([JSON.stringify(e)],{type:"text/plain;charset=utf-8"});i.saveAs(a,s+".json")},children:"Save"})}),Object(ge.jsx)("div",{className:"uploadstyle",children:Object(ge.jsx)(Rt,{courseState:t,progressionState:r})})]})}),_t=function(){var e=Object(s.useContext)(L),t=new oe(e.searchDataState),n=new U(e.courseState),r=new kt(e.courseState),i=new Dt(e.progressionState,e.courseState);return Object(ge.jsx)(L.Provider,{value:e,children:Object(ge.jsx)("div",{className:"ui maincontainer",children:Object(ge.jsx)("div",{className:"ui container",children:Object(ge.jsxs)(c.a,{split:"vertical",defaultSize:"min(50vw, 1000px)",primary:"second",children:[Object(ge.jsxs)(z.a,{style:{padding:10},fluid:!0,children:[Object(ge.jsx)(Fe,{searchPanelViewModel:t}),Object(ge.jsx)(q.a,{children:function(){return t.shouldShowPanel?Object(ge.jsx)(ge.Fragment,{}):Object(ge.jsx)(Mt,{progressionPlannerViewModel:i})}})]}),Object(ge.jsxs)(z.a,{style:{padding:10},fluid:!0,children:[Object(ge.jsx)(Lt,{courseState:e.courseState,progressionState:e.progressionState}),Object(ge.jsx)("button",{type:"button",style:de,onClick:function(){r.autoPlan()},children:"Auto Plan Degree"}),Object(ge.jsx)(mt,{plannerViewModel:n})]})]})})})})},Ft=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,350)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),i(e),a(e)}))};o.a.render(Object(ge.jsx)(i.a.StrictMode,{children:Object(ge.jsx)(_t,{})}),document.getElementById("root")),Ft()}},[[307,1,2]]]);
//# sourceMappingURL=main.b0f1242f.chunk.js.map