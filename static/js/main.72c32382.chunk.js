(this.webpackJsonptermtangles=this.webpackJsonptermtangles||[]).push([[0],{160:function(e,t){},194:function(e,t){},200:function(e,t){},238:function(e,t,r){},243:function(e,t,r){},288:function(e,t){},312:function(e,t){},317:function(e,t,r){},318:function(e,t,r){"use strict";r.r(t);var n,i,s,a,c,o,u,l=r(0),d=r.n(l),h=r(18),p=r.n(h),f=(r(238),r(239),r(24)),b=r(222),g=r(347),j=(r(243),r(10)),m=r(11),O=r(2),v=m.b.button(n||(n=Object(j.a)(["\n  background: transparent;\n  border-radius: 4px;\n  border: 2px solid darkgrey;\n  color: black;\n  margin: 4px 2px;\n  padding: 15px 32px;\n  font-size: 20px;\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n\n  transition-duration: 0.2s;\n  :hover {\n    background: #f2f2f2;\n  }\n\n  ","\n"])),(function(e){return e.primary&&Object(m.a)(i||(i=Object(j.a)(["\n    background: darkgrey;\n\n    :hover {\n      background: lightgrey;\n    }\n  "])))})),y=m.b.div(s||(s=Object(j.a)(["\n  width: 48%;\n  display: inline;\n  background: transparent;\n  float: left;\n  margin: 0% 1%;\n"]))),S=function(e){var t=e.localImportExportViewModel,r=d.a.useRef(null);return Object(O.jsxs)(d.a.Fragment,{children:[Object(O.jsx)(y,{children:Object(O.jsx)(v,{primary:!0,onClick:function(){t.export()},children:"Export"})}),Object(O.jsxs)(y,{children:[Object(O.jsx)(v,{onClick:function(){var e;null===(e=r.current)||void 0===e||e.click()},children:"Import"}),Object(O.jsx)("input",{ref:r,onChange:function(e){return t.import(e)},type:"file",style:{display:"none"},accept:"application/JSON"})]})]})},x=r(17),P=r.n(x),E=r(83),C=r(36),w=r(14),N=r(15),k=r(215),A=r(214),T=r.n(A),R=function(){function e(){Object(w.a)(this,e),this._versionNumber=1}return Object(N.a)(e,[{key:"serialize",value:function(){return this._versionNumber}},{key:"deserialize",value:function(e){console.log("Termtangle data version: "+e._version)}}]),e}(),_=function(){function e(t,r,n){Object(w.a)(this,e),this._serializables=new Map,this._serializables.set("_version",new R),this._serializables.set("user",t),this._serializables.set("progression",r),this._serializables.set("courseState",n)}return Object(N.a)(e,[{key:"export",value:function(){var e={};this._serializables.forEach((function(t,r){e[r]=t.serialize()})),T.a.saveAs(new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"}),"termtangles_".concat(k.DateTime.now().toFormat("yyyyMMdd_HHmmssSSS"),".json"))}},{key:"import",value:function(e){var t=this,r=e.target.files[0],n=new FileReader;n.onload=function(){var r=Object(C.a)(P.a.mark((function r(n){var i,s,a,c,o;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null===(i=n.target)||void 0===i?void 0:i.result)){r.next=21;break}if(void 0===(s=JSON.parse(n.target.result.toString()))._version||void 0===s.user){r.next=20;break}a=Object(E.a)(t._serializables.values()),r.prev=4,a.s();case 6:if((c=a.n()).done){r.next=12;break}return o=c.value,r.next=10,o.deserialize(s);case 10:r.next=6;break;case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(4),a.e(r.t0);case 17:return r.prev=17,a.f(),r.finish(17);case 20:e.target.value="";case 21:case"end":return r.stop()}}),r,null,[[4,14,17,20]])})));return function(e){return r.apply(this,arguments)}}(),n.readAsText(r)}}]),e}(),D={backgroundColor:"#4CAF50",border:"none",color:"white",padding:"15px 32px",textDecoration:"none",display:"inline-block",fontSize:"16px",margin:"4px 2px",cursor:"pointer",width:"100%"},L=r(31),I=r(13),M=r(357),U=r(354),F=r(319);!function(e){e[e.UNPLANNED=0]="UNPLANNED",e[e.PLANNED=1]="PLANNED"}(a||(a={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.COURSE_NOT_OFFERED_IN_SELECTED_TERM=1]="COURSE_NOT_OFFERED_IN_SELECTED_TERM",e[e.PREREQUISITES_NOT_PLANNED=2]="PREREQUISITES_NOT_PLANNED",e[e.PREREQUISITE_REQUIREMENT_NOT_MET=3]="PREREQUISITE_REQUIREMENT_NOT_MET",e[e.COREQUISITE_REQUIREMENT_NOT_MET=4]="COREQUISITE_REQUIREMENT_NOT_MET",e[e.EXCLUSION_COURSE_CONFLICT=5]="EXCLUSION_COURSE_CONFLICT"}(c||(c={})),function(e){e.UNDERGRADUATE="undergraduate",e.POSTGRADUATE="postgraduate",e.RESEARCH="research"}(o||(o={}));var z,V=Object(m.b)(M.a)(u||(u=Object(j.a)(["\n  &&{\n    margin: auto 0 auto 0;\n  }\n"]))),G=Object(I.a)((function(e){var t=Object(l.useState)(void 0),r=Object(L.a)(t,2),n=r[0],i=r[1];return Object(O.jsx)(f.a,{children:function(){return Object(O.jsxs)(d.a.Fragment,{children:[Object(O.jsxs)(V,{pointing:!0,children:[Object(O.jsx)(M.a.Item,{header:!0,children:"Termtangles"}),Object(O.jsx)(M.a.Item,{name:"Undergraduate",active:e.userState.studyLevel===o.UNDERGRADUATE,onClick:function(){return e.userState.studyLevel!==o.UNDERGRADUATE?i((function(){return function(){return e.userState.setStudyLevel(o.UNDERGRADUATE)}})):{}}}),Object(O.jsx)(M.a.Item,{name:"Postgraduate",active:e.userState.studyLevel===o.POSTGRADUATE,onClick:function(){return e.userState.studyLevel!==o.POSTGRADUATE?i((function(){return function(){return e.userState.setStudyLevel(o.POSTGRADUATE)}})):{}}}),Object(O.jsx)(M.a.Item,{name:"Research",active:e.userState.studyLevel===o.RESEARCH,onClick:function(){return e.userState.studyLevel!==o.RESEARCH?i((function(){return function(){return e.userState.setStudyLevel(o.RESEARCH)}})):{}}})]}),Object(O.jsxs)(U.a,{size:"small",open:void 0!==n,onClose:function(){return i(void 0)},children:[Object(O.jsx)(U.a.Header,{children:"Study Level Change"}),Object(O.jsx)(U.a.Content,{children:Object(O.jsx)("p",{children:"Changing study level will reset all current progress. Do you want to continue?"})}),Object(O.jsxs)(U.a.Actions,{children:[Object(O.jsx)(F.a,{negative:!0,onClick:function(){return i(void 0)},children:"No"}),Object(O.jsx)(F.a,{positive:!0,onClick:function(){n&&n(),i(void 0)},children:"Yes"})]})]})]})}})})),B=r(33),q=r(95),H=r(7),Q=function(){function e(t,r){Object(w.a)(this,e),this.year=void 0,this.name=void 0,Object(H.o)(this),this.checkTermConstraints(t,r),this.year=t,this.name=r}return Object(N.a)(e,[{key:"checkTermConstraints",value:function(e,t){if(!e)throw Error("ERROR: ".concat(e," is not a valid term year."));if(!t)throw Error("ERROR: ".concat(t," is not a valid term name."))}},{key:"getMappingName",get:function(){return"".concat(this.year,"_").concat(this.name)}},{key:"update",value:function(e,t){this.year=e,this.name=t}},{key:"updateFromMappingName",value:function(e){var t=parseInt(e.split("_")[0]),r=e.split("_")[1];this.update(t,r)}},{key:"getFullName",get:function(){return"".concat(this.year," ").concat(this.name)}},{key:"getTermName",get:function(){return"".concat(this.name)}},{key:"tryGetTermNumber",value:function(){switch(this.name){case"Summer Term":return 0;case"Term 1":return 1;case"Term 2":return 2;case"Term 3":return 3;default:return}}},{key:"equals",value:function(e){return!!e&&(this.year===e.year&&this.name===e.name)}},{key:"isBefore",value:function(e){var t,r;return this.year<e.year||e.year===this.year&&(null!==(t=this.tryGetTermNumber())&&void 0!==t?t:99)<(null!==(r=e.tryGetTermNumber())&&void 0!==r?r:99)}},{key:"serialize",value:function(){return{year:this.year,name:this.name}}},{key:"deserialize",value:function(e){throw Error("ERROR: use static method termFromSerializedData to construct the term from serialized data ".concat(e,"."))}}],[{key:"termFromSerializedData",value:function(t){return new e(t.year,t.name)}},{key:"fromMappingName",value:function(t){return new e(parseInt(t.split("_")[0]),t.split("_")[1])}}]),e}(),Y=r(111),W=r(349),J=m.b.div(z||(z=Object(j.a)(["\n    border: 1px solid lightgrey;\n    border-radius:8px;\n    padding: 8px;\n    margin: 0px 2px 8px 2px;\n    background-color: ",";\n    ","\n    height: fit-content;\n    max-width: 350px;\n"])),(function(e){return e.isPrerequisiteOfCurrentDraggable?"#c5eafc":e.hasErrors()?"#f5bfc8":e.isDragging?"lightgrey":"white"}),(function(e){return e.horizontal?"":"flex-grow: 1;"})),X={fontSize:13};var K,Z,$,ee,te,re,ne,ie,se,ae,ce=function(e){var t=e.droppableIndex,r=e.course,n=e.prerequisitesOfCurrentDraggable,i=e.horizontal,s=function(e,t){var r=(e=e.sort()).join(", ");return r="Term Offerings: ".concat(r)}(r.termOffering,r.allocatedTerm),a=function(e){var t=[],r=[],n=[],i=/<br\/>/gi;if(0===e.length)return[""];if(1===e.length)return[e[0].message.replace(i,""),"".concat(e[0].missing)];for(var s=0;s<e.length;s++)t.push(e[s].message.replace(i,"")),r.push(e[s].missing);for(var a=0;a<e.length;a++)""!==r[a]&&n.push(r[a]);return[t.join(" & "),n.join(" & ")]}(r.errors);return Object(O.jsx)(q.b,{draggableId:r.code,index:t,children:function(e,t){return Object(O.jsx)(J,Object(B.a)(Object(B.a)(Object(B.a)({horizontal:i},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,isDragging:t.isDragging,isPrerequisiteOfCurrentDraggable:n.has(r.id),hasErrors:function(){return r.hasErrors()},children:Object(O.jsx)(W.a,{title:Object(O.jsxs)("span",{children:[Object(O.jsx)("p",{style:X,children:s}),Object(O.jsx)("p",{style:X,children:a[0]}),Object(O.jsx)("p",{style:X,children:a[1]})]}),"aria-label":"add","aria-multiline":"true",arrow:!0,children:Object(O.jsxs)("p",{children:[" ",r.code," - ",r.title]})})}))}})},oe=m.b.div(K||(K=Object(j.a)(["\n    margin: 8px;\n    border: 1px solid lightgrey;\n    border-radius:2px;\n\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    ","\n"])),(function(e){return e.horizontal?"":"max-width: 350px;"})),ue=m.b.h3(Z||(Z=Object(j.a)(["\n    padding: 6px;\n    margin: 0 0;\n    display: flex;\n    width: 200px;\n"]))),le=m.b.div($||($=Object(j.a)(["\n    padding: 6px;\n    min-height: 100px;\n    transition: background-color 0.2s ease;\n    background-color: ",";\n    flex-grow: 1;\n    display: flex;\n    flex-direction: ",";\n    flex-flow: row ",";\n    align-content: flex-start;\n"])),(function(e){return e.isDraggingOver?e.isValidDroppable?"#8debb7":"#ff99b0":e.isPossibleTermOfCurrentDraggable?"#cafae0":("completed"===e.courseID||e.courseID,"#edf2f4")}),(function(e){return e.horizontal?"row":"column"}),(function(e){return e.horizontal?"wrap":"nowrap"})),de=m.b.div(ee||(ee=Object(j.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n"]))),he=Object(m.b)(Y.a)(te||(te=Object(j.a)(["\n    && {\n        margin: auto 0 auto 0;\n        height: fit-content;\n        vertical-align: middle;\n        white-space: nowrap;\n    }\n"]))),pe=function(e){var t=e.id,r=e.title,n=e.courses,i=e.term,s=e.currentDraggableProps,a=e.horizontal,c=function(e){return s.possibleTerms.filter((function(t){return t.equals(e)})).length>0},o=n.map((function(e){return e.creditPoints})).reduce((function(e,t){return e+t}),0);return Object(O.jsxs)(oe,{horizontal:a,children:[Object(O.jsxs)(de,{children:[Object(O.jsx)(ue,{children:r}),i?Object(O.jsx)(he,{color:18===o||3===n.length?"green":o<18?"orange":"yellow",content:"".concat(o," UOC"),size:"small"}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsx)(q.c,{droppableId:t,direction:a?"horizontal":"vertical",children:function(e,t){return Object(O.jsxs)(le,Object(B.a)(Object(B.a)({horizontal:!0},e.droppableProps),{},{ref:e.innerRef,isDraggingOver:t.isDraggingOver,courseID:e.droppableProps["data-rbd-droppable-id"],isPossibleTermOfCurrentDraggable:c(i),isValidDroppable:null===i||c(i),children:[n?n.map((function(e,t){return Object(O.jsx)(ce,{horizontal:a,course:e,droppableIndex:t,prerequisitesOfCurrentDraggable:s.prerequisiteCourseIds},e.code)})):void 0,e.placeholder]}))}})]})},fe=m.b.div(re||(re=Object(j.a)(["\n    margin: 8px;\n    border: 1px solid lightgrey;\n    border-radius:2px;\n    width: 250px;\n"]))),be=m.b.h3(ne||(ne=Object(j.a)(["\n    padding: 6px;\n    margin: 3px;\n    display: flex;\n    width: 200px;\n"]))),ge=function(e){return Object(O.jsxs)(fe,{children:[Object(O.jsx)(be,{children:e.year}),e.courseGroups.map((function(t){return Object(O.jsx)(pe,{id:t.id,title:t.title,courses:t.courses,term:t.term,currentDraggableProps:e.currentDraggableProps},t.id)}))]})},je=m.b.div(ie||(ie=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),me=m.b.div(se||(se=Object(j.a)(["\n  display: inherit;\n  overflow: auto;\n"]))),Oe=Object(I.a)((function(e){var t=e.plannerViewModel;return Object(O.jsx)(f.a,{children:function(){var e=t.courseState,r=t.plannerState;return Object(O.jsx)(d.a.Fragment,{children:Object(O.jsxs)(q.a,{onBeforeCapture:function(){t.currentDraggableProps=Object(B.a)(Object(B.a)({},t.currentDraggableProps),{},{isDragging:!0})},onDragStart:function(r,n){var i=e.getCourseById(r.draggableId);i&&(t.currentDraggableProps=Object(B.a)(Object(B.a)({},t.currentDraggableProps),{},{possibleTerms:t.calculateDisplayableTerms().filter((function(t){return 0===e.getMissingRequirementsWhenAssigningCourseToTerm(i,t).length})),prerequisiteCourseIds:new Set(e.getFlattenedPrerequisiteList(i.prerequisites))}))},onDragEnd:function(r){var n=r.destination,i=r.source,s=r.draggableId;if(n){var a=e.getCourseById(s);if(a&&i&&n){var c=t.getCourseGroupById(i.droppableId),o=t.getCourseGroupById(n.droppableId);null===c||void 0===c||c.courses.splice(i.index,1),null===o||void 0===o||o.courses.splice(n.index,0,a),n.droppableId!==i.droppableId&&("trash"===n.droppableId?a.setUnplanned():"completed"===n.droppableId?a.setCompleted():"planned"===n.droppableId?a.setPlanned():a.setAllocated(Q.fromMappingName(n.droppableId))),t.synchronizePlannerState(),t.clearCurrentDraggableProps()}}},children:[Object(O.jsx)(pe,{horizontal:!0,id:r.completedGroup.id,title:r.completedGroup.title,term:null,courses:r.completedGroup.courses,currentDraggableProps:t.currentDraggableProps},r.completedGroup.id),Object(O.jsxs)(je,{children:[Object(O.jsx)(pe,{id:r.plannedGroup.id,title:r.plannedGroup.title,courses:r.plannedGroup.courses,term:null,currentDraggableProps:t.currentDraggableProps},r.plannedGroup.id),Object(O.jsx)(me,{children:r.yearGroups.map((function(e){return Object(O.jsx)(ge,{id:e.id,title:e.title,year:e.year,courseGroups:e.courseGroups,currentDraggableProps:t.currentDraggableProps})}))})]}),t.currentDraggableProps.isDragging?Object(O.jsx)(pe,{horizontal:!0,id:"trash",title:"Remove",term:null,courses:[],currentDraggableProps:t.currentDraggableProps},"trash"):Object(O.jsx)(O.Fragment,{})]})})}})})),ve=r(16),ye=function(){function e(t){Object(w.a)(this,e),this._courseState=void 0,this._plannerState=void 0,this._currentDraggableProps={isDragging:!1,possibleTerms:[],prerequisiteCourseIds:new Set},Object(H.p)(this,{_currentDraggableProps:H.q,currentDraggableProps:H.h,clearCurrentDraggableProps:H.f}),this._courseState=t,this._plannerState={id:"plannerState",title:"Visualizer",allocatedGroups:[],yearGroups:[],completedGroup:{id:"completed",title:"Completed",term:null,courses:[]},plannedGroup:{id:"planned",title:"Planned",term:null,courses:[]}}}return Object(N.a)(e,[{key:"courseState",get:function(){return this._courseState}},{key:"plannerState",get:function(){return this.synchronizePlannerState(),this._plannerState}},{key:"synchronizeCourseList",value:function(e,t){var r=new Set(e),n=new Set(t),i=new Set(Object(ve.a)(n).filter((function(e){return!r.has(e)}))),s=new Set(Object(ve.a)(r).filter((function(e){return!n.has(e)})));i.forEach((function(e){var r=t.indexOf(e);t.splice(r,1)})),s.forEach((function(e){t.push(e)}))}},{key:"calculateDisplayableTerms",value:function(){for(var e=this._courseState.getMaxAllocatedYear,t=[],r=(new Date).getFullYear();r<=e+1;++r)t.push(new Q(r,"Summer Term")),t.push(new Q(r,"Term 1")),t.push(new Q(r,"Term 2")),t.push(new Q(r,"Term 3"));return t}},{key:"synchronizePlannerState",value:function(){var e=this,t=this.calculateDisplayableTerms(),r=Object(ve.a)(new Set(t.map((function(e){return e.year})))).sort(),n=t.map((function(t){var r,n;return{id:t.getMappingName,title:t.getFullName,term:t,courses:null!==(r=null===(n=e._plannerState.allocatedGroups.find((function(e){return e.id===t.getMappingName})))||void 0===n?void 0:n.courses)&&void 0!==r?r:[]}})),i=Object(B.a)(Object(B.a)({},this._plannerState),{},{allocatedGroups:n,yearGroups:r.map((function(e){var t;return{id:"yearGroup_".concat(e.toString()),title:e.toString(),year:e,courseGroups:null!==(t=n.filter((function(t){var r;return(null===(r=t.term)||void 0===r?void 0:r.year)===e})))&&void 0!==t?t:[]}}))});i.allocatedGroups.forEach((function(t){var r;e.synchronizeCourseList(null!==(r=e._courseState.termCourseMap.get(t.id))&&void 0!==r?r:[],t.courses)})),i.yearGroups.forEach((function(t){t.courseGroups.forEach((function(t){var r;e.synchronizeCourseList(null!==(r=e._courseState.termCourseMap.get(t.id))&&void 0!==r?r:[],t.courses)}))})),this.synchronizeCourseList(this._courseState.plannedCourses,i.plannedGroup.courses),this.synchronizeCourseList(this._courseState.completedCourses,i.completedGroup.courses),this._plannerState=i}},{key:"getCourseGroupById",value:function(e){return this._plannerState.completedGroup.id===e?this._plannerState.completedGroup:this._plannerState.plannedGroup.id===e?this._plannerState.plannedGroup:this._plannerState.allocatedGroups.find((function(t){return t.id===e}))}},{key:"currentDraggableProps",get:function(){return Object(B.a)({},this._currentDraggableProps)},set:function(e){this._currentDraggableProps=e}},{key:"clearCurrentDraggableProps",value:function(){this.currentDraggableProps={isDragging:!1,possibleTerms:[],prerequisiteCourseIds:new Set}}}]),e}(),Se=r(355),xe=r(136),Pe=r(138),Ee=r.n(Pe),Ce=r(78),we=function e(t,r){var n,i=[];if((n=t)&&n.or){var s,a=Object(E.a)(t.or);try{for(a.s();!(s=a.n()).done;){var c,o=s.value,u=e(o,r);if(0===u.length){i=[];break}(c=i).push.apply(c,Object(ve.a)(u))}}catch(l){a.e(l)}finally{a.f()}}else!function(e){return e&&e.and}(t)?r(t)||i.push(t):t.and.forEach((function(t){var n;(n=i).push.apply(n,Object(ve.a)(e(t,r)))}));return i};!function(e){e[e.UNPLANNED=0]="UNPLANNED",e[e.PLANNED=1]="PLANNED",e[e.ALLOCATED=2]="ALLOCATED",e[e.COMPLETED=3]="COMPLETED"}(ae||(ae={}));var Ne,ke,Ae,Te,Re,_e,De,Le,Ie,Me,Ue,Fe,ze,Ve,Ge,Be=function(){function e(t,r,n,i,s,a,c,o,u,l,d,h,p,f,b,g,j){Object(w.a)(this,e),this.code=t,this.contentTypeLabel=r,this.corequisites=n,this.creditPoints=i,this.description=s,this.effectiveDate=a,this.enrolmentRules=c,this.exclusion=o,this.facultyName=u,this.implementationYear=l,this.keywords=d,this.prerequisites=h,this.schoolName=p,this.studyLevel=f,this.termOffering=b,this.title=g,this.urlMap=j,this.allocatedTerm=void 0,this.id=void 0,this.courseStatus=ae.UNPLANNED,this._errors=new Set,this.id=t,Object(H.o)(this)}return Object(N.a)(e,[{key:"setAllocated",value:function(e){this.courseStatus=ae.ALLOCATED,this.allocatedTerm=e}},{key:"setUnplanned",value:function(){this._errors.clear(),this.courseStatus=ae.UNPLANNED,this.allocatedTerm=void 0}},{key:"setCompleted",value:function(){this._errors.clear(),this.courseStatus=ae.COMPLETED,this.allocatedTerm=void 0}},{key:"setPlanned",value:function(){this.courseStatus=ae.PLANNED,this.allocatedTerm=void 0}},{key:"addError",value:function(e){this._errors.add(e)}},{key:"removeError",value:function(e){this._errors.delete(e)}},{key:"hasErrors",value:function(){return this._errors.size>0}},{key:"clearErrors",value:function(){this._errors.clear()}},{key:"errors",get:function(){return Object(ve.a)(this._errors)}},{key:"serialize",value:function(){return this.courseStatus!==ae.ALLOCATED?{id:this.id,status:ae[this.courseStatus]}:{id:this.id,status:ae[this.courseStatus],period:null===(e=this.allocatedTerm)||void 0===e?void 0:e.serialize()};var e}},{key:"deserialize",value:function(e){if(e.id===this.id)switch(e.status){case ae[ae.PLANNED]:this.setPlanned();break;case ae[ae.COMPLETED]:this.setCompleted();break;case ae[ae.ALLOCATED]:if(e.period)try{var t=Q.termFromSerializedData(e.period);this.setAllocated(t)}catch(r){console.error("ERROR: invalid term period passed in ".concat(e.period," (").concat(r.message,")"))}else console.error("ERROR: Allocated course status with no period ".concat(e.id));break;default:console.error("ERROR: ".concat(e.status," is not a valid status"))}else console.error("ERROR: This course is not ".concat(e.id," (is: ").concat(this.id,")"))}},{key:"toString",value:function(){return"[COURSE_".concat(this.id,"] ").concat(this.code," - ").concat(this.title)}}]),e}(),qe=function(){function e(t){var r,n=this;Object(w.a)(this,e),this._userState=t,this.validations=(r=this,[function(e){e.allocatedTerm&&!e.termOffering.includes(e.allocatedTerm.getTermName)&&e.addError({code:c.COURSE_NOT_OFFERED_IN_SELECTED_TERM,message:"This course is not offered in ".concat(e.allocatedTerm.getTermName),missing:""})},function(e){if(e.allocatedTerm){var t=r.getMissingPrerequisitesBeforeTerm(e.prerequisites,e.allocatedTerm);t.length>0&&e.addError({code:c.PREREQUISITE_REQUIREMENT_NOT_MET,message:"The prerequisites for this course are not satisfied\n".concat(e.enrolmentRules.join(";")),missing:"Missing: ".concat(t)})}},function(e){if(e.courseStatus!==ae.ALLOCATED){var t=r.getMissingPrerequisitesPlanned(e.prerequisites);t.length>0&&e.addError({code:c.PREREQUISITES_NOT_PLANNED,message:"A valid combination of prerequisites for this course have not been planned\n".concat(e.enrolmentRules.join(";")),missing:"Missing: ".concat(t)})}},function(e){var t=[];e.exclusion.forEach((function(e){var n=r.getCourseById(e);n&&n.courseStatus!==ae.UNPLANNED&&t.push(e)})),t.length>0&&e.addError({code:c.EXCLUSION_COURSE_CONFLICT,message:"The following exclusion courses conflict with this course ".concat(t.join(", ")),missing:""})}]),this.coursesMapById=new Map,this.coursesMapByActiveStatus=new Map,this._isUpdated=!1,Object(H.o)(this),Object(H.r)((function(){return n._userState.studyLevel}),(function(){n._isUpdated=!1,n._updateStudyLevel()}),{fireImmediately:!0}),t.registerStudyLevelWait(Object(C.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.v)((function(){return n._isUpdated}));case 2:case"end":return e.stop()}}),e)}))))}return Object(N.a)(e,[{key:"allCourses",get:function(){return Object(ve.a)(this.coursesMapById.values())}},{key:"_resetCourseMap",value:function(){this.coursesMapById=new Map,this.coursesMapByActiveStatus=new Map,this.coursesMapByActiveStatus.set(ae.UNPLANNED,new Map),this.coursesMapByActiveStatus.set(ae.PLANNED,new Map),this.coursesMapByActiveStatus.set(ae.ALLOCATED,new Map),this.coursesMapByActiveStatus.set(ae.COMPLETED,new Map)}},{key:"_loadAllCourses",value:function(){var e=Object(C.a)(P.a.mark((function e(t){var r=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(new Request("https://raw.githubusercontent.com/termtangles/termtangles_data/main/publish/".concat(t.toString(),"/all_courses.json"),{method:"GET",mode:"cors",cache:"default"})).then((function(e){return e.json()})).then((function(e){Object(H.t)((function(){r._resetCourseMap(),e.forEach((function(e){var t=new Be(e.code,e.contentTypeLabel,e.corequisites,e.creditPoints,e.description,e.effectiveDate,e.enrolmentRules,e.exclusion,e.facultyName,e.implementationYear,e.keywords,e.prerequisites,e.schoolName,e.studyLevel,e.termOffering,e.title,e.urlMap);r.addCourse(t)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateStudyLevel",value:function(){var e=Object(C.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadAllCourses(this._userState.studyLevel);case 2:this._isUpdated=!0;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"termCourseMap",get:function(){var e,t=new Map;return null===(e=this.coursesMapByActiveStatus.get(ae.ALLOCATED))||void 0===e||e.forEach((function(e){if(e.allocatedTerm){var r=t.get(e.allocatedTerm.getMappingName);r?r.push(e):t.set(e.allocatedTerm.getMappingName,[e])}})),t}},{key:"completedCourses",get:function(){var e,t;return Object(ve.a)(null!==(e=null===(t=this.coursesMapByActiveStatus.get(ae.COMPLETED))||void 0===t?void 0:t.values())&&void 0!==e?e:[])}},{key:"plannedCourses",get:function(){var e,t;return Object(ve.a)(null!==(e=null===(t=this.coursesMapByActiveStatus.get(ae.PLANNED))||void 0===t?void 0:t.values())&&void 0!==e?e:[])}},{key:"getMaxAllocatedYear",get:function(){var e=Object(ve.a)(this.termCourseMap.keys()),t=(new Date).getFullYear();return e.length>0&&(t=Q.fromMappingName(e.sort().slice(-1)[0]).year),t}},{key:"getCourseById",value:function(e){return this.coursesMapById.get(e)}},{key:"addCourse",value:function(e){var t=this;this.coursesMapById.set(e.id,e),Object(H.r)((function(){return e.courseStatus}),(function(){for(var r in ae)if(isNaN(Number(r))){var n,i,s=ae[r];if(s!==e.courseStatus)null===(n=t.coursesMapByActiveStatus.get(s))||void 0===n||n.delete(e.id);else null===(i=t.coursesMapByActiveStatus.get(s))||void 0===i||i.set(e.id,e)}}),{fireImmediately:!0}),Object(H.r)((function(){return e.courseStatus}),(function(){t.runValidations()}),{fireImmediately:!0}),Object(H.r)((function(){return e.allocatedTerm}),(function(){t.runValidations()}),{fireImmediately:!0})}},{key:"runValidations",value:function(){var e=this;Object(H.t)((function(){var t,r,n;null===(t=e.coursesMapByActiveStatus.get(ae.PLANNED))||void 0===t||t.forEach((function(t){t.clearErrors(),e.validations.forEach((function(e){e(t)}))})),null===(r=e.coursesMapByActiveStatus.get(ae.ALLOCATED))||void 0===r||r.forEach((function(t){t.clearErrors(),e.validations.forEach((function(e){e(t)}))})),null===(n=e.coursesMapByActiveStatus.get(ae.COMPLETED))||void 0===n||n.forEach((function(e){e.clearErrors()}))}))}},{key:"resetHard",value:function(){Object(ve.a)(this.coursesMapById.values()).forEach((function(e){e.setUnplanned()}))}},{key:"getFlattenedPrerequisiteList",value:function(e){return we(e,(function(e){return!1}))}},{key:"getMissingPrerequisitesBeforeTerm",value:function(e,t){var r=this;return we(e,(function(e){if("string"===typeof e){var n,i=e,s=r.getCourseById(i);return!!s&&(s.courseStatus===ae.ALLOCATED&&(null===(n=s.allocatedTerm)||void 0===n?void 0:n.isBefore(t))||s.courseStatus===ae.COMPLETED)}return!0}))}},{key:"getMissingPrerequisitesPlanned",value:function(e){var t=this;return we(e,(function(e){if("string"===typeof e){var r=e,n=t.getCourseById(r);return!!n&&n.courseStatus!==ae.UNPLANNED}return!0}))}},{key:"courseIsOffered",value:function(e,t){for(var r=0;r<t.length;r++)if(e.getTermName===t[r])return!0;return!1}},{key:"getMissingRequirementsWhenAssigningCourseToTerm",value:function(e,t){var r=this.getMissingPrerequisitesBeforeTerm(e.prerequisites,t);return this.courseIsOffered(t,e.termOffering)||r.push("Course is not offered in ".concat(t.getFullName)),r}},{key:"assignCourseToTerm",value:function(e,t){return 0===this.getMissingRequirementsWhenAssigningCourseToTerm(e,t).length&&(e.setAllocated(t),!0)}},{key:"serialize",value:function(){var e,t,r=[];return{courses:(r=r.concat(this.completedCourses,this.plannedCourses,Object(ve.a)(null!==(e=null===(t=this.coursesMapByActiveStatus.get(ae.ALLOCATED))||void 0===t?void 0:t.values())&&void 0!==e?e:[]))).map((function(e){return e.serialize()}))}}},{key:"deserialize",value:function(e){var t=this;if(e.courseState){this.resetHard();var r=e.courseState;r.courses&&r.courses.forEach((function(e){var r=t.getCourseById(e.id);r?r.deserialize(e):console.error("ERROR: ".concat(e.id," is not a valid course."))}))}}}]),e}(),He=r(356),Qe=function(){function e(t,r,n,i,s,a){Object(w.a)(this,e),this.title=t,this.description=r,this.creditPoints=n,this.elements=i,this.containers=s,this.order=a,this.id=Object(He.a)()}return Object(N.a)(e,[{key:"toString",value:function(){return this.title+", "+this.description}}]),e}(),Ye=function(){function e(t,r,n,i,s,a,c){Object(w.a)(this,e),this.name=t,this.description=r,this.type=n,this.creditPoints=i,this.itemCode=s,this.url=a,this.order=c}return Object(N.a)(e,[{key:"isCourse",value:function(){return"course"===this.type.toLowerCase()}},{key:"isSpecialisation",value:function(){return["major","minor","specialisation","honours"].includes(this.type.toLowerCase())}},{key:"toString",value:function(){return this.name+", "+this.type}}]),e}(),We=function e(t){var r=[];return t.forEach((function(t){var n=[],i=[];t.children.length>0&&(n=e(t.children)),t.relationships.length>0&&(i=Je(t.relationships));var s=new Qe(t.title,t.description,Number(t.creditPoints),i,n,Number(t.order));r.push(s)})),r},Je=function(e){var t=[];return e.forEach((function(e){var r=new Ye(e.name,e.description,e.type,Number(e.creditPoints),e.itemCode,e.url,Number(e.order));t.push(r)})),t},Xe=function(){function e(t,r,n,i,s,c,o,u,l,d,h,p,f,b,g){Object(w.a)(this,e),this.code=t,this.title=r,this.academicItemType=n,this.additionalInfo=i,this.creditPoints=s,this.structureSummary=c,this.curriculumStructure=o,this.description=u,this.facultyName=l,this.implementationYear=d,this.intakePeriod=h,this.programConstraints=p,this.schoolName=f,this.studyLevel=b,this.urlMap=g,this.id=void 0,this.progressionStatus=a.UNPLANNED,this.id=t,Object(H.o)(this)}return Object(N.a)(e,[{key:"setPlanned",value:function(){this.progressionStatus=a.PLANNED}},{key:"setUnplanned",value:function(){this.progressionStatus=a.UNPLANNED}},{key:"serialize",value:function(){return{id:this.code}}},{key:"deserialize",value:function(e){e.id===this.id?this.setPlanned():console.error("ERROR: This program is not ".concat(e.id," (is: ").concat(this.id,")"))}},{key:"toString",value:function(){return"[PROGRAM_".concat(this.id,"] ").concat(this.code," - ").concat(this.title)}}]),e}(),Ke=function(){function e(t,r,n,i,s,c,o,u,l,d,h,p,f){Object(w.a)(this,e),this.code=t,this.title=r,this.academicItemType=n,this.creditPoints=i,this.structureSummary=s,this.curriculumStructure=c,this.description=o,this.facultyName=u,this.implementationYear=l,this.keywords=d,this.schoolName=h,this.studyLevel=p,this.urlMap=f,this.id=void 0,this.progressionStatus=a.UNPLANNED,this.id=t,Object(H.o)(this)}return Object(N.a)(e,[{key:"setPlanned",value:function(){this.progressionStatus=a.PLANNED}},{key:"setUnplanned",value:function(){this.progressionStatus=a.UNPLANNED}},{key:"serialize",value:function(){return{id:this.code}}},{key:"deserialize",value:function(e){e.id===this.id?this.setPlanned():console.error("ERROR: This specialisation is not ".concat(e.id," (is: ").concat(this.id,")"))}},{key:"toString",value:function(){return"[SPECIALISATION_".concat(this.id,"] ").concat(this.code," - ").concat(this.title)}}]),e}(),Ze=function(){function e(t){var r=this;Object(w.a)(this,e),this._userState=void 0,this._programMapById=new Map,this._specialisationMapById=new Map,this._isUpdated=!1,Object(H.o)(this),this._userState=t,Object(H.r)((function(){return r._userState.studyLevel}),(function(){r._isUpdated=!1,r._updateStudyLevel()}),{fireImmediately:!0}),t.registerStudyLevelWait(Object(C.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(H.v)((function(){return r._isUpdated})));case 1:case"end":return e.stop()}}),e)}))))}return Object(N.a)(e,[{key:"_updateStudyLevel",value:function(){var e=Object(C.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAllPrograms(this._userState.studyLevel);case 2:return e.next=4,this.loadAllSpecialisations(this._userState.studyLevel);case 4:this._isUpdated=!0;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"allPrograms",get:function(){return Object(ve.a)(this._programMapById.values())}},{key:"allSpecialisations",get:function(){return Object(ve.a)(this._specialisationMapById.values())}},{key:"getProgramById",value:function(e){return this._programMapById.get(e)}},{key:"getSpecialisationById",value:function(e){return this._specialisationMapById.get(e)}},{key:"plannedPrograms",get:function(){return this.allPrograms.filter((function(e){return e.progressionStatus===a.PLANNED}))}},{key:"plannedSpecialisations",get:function(){return this.allSpecialisations.filter((function(e){return e.progressionStatus===a.PLANNED}))}},{key:"plannedProgressionEntities",get:function(){var e=this.plannedPrograms;return e=e.concat(this.plannedSpecialisations)}},{key:"resetHard",value:function(){this._programMapById.forEach((function(e){e.setUnplanned()})),this._specialisationMapById.forEach((function(e){e.setUnplanned()}))}},{key:"addProgram",value:function(e){this._programMapById.set(e.id,e)}},{key:"addSpecialisation",value:function(e){this._specialisationMapById.set(e.id,e)}},{key:"serialize",value:function(){return{programs:this.plannedPrograms.map((function(e){return e.serialize()})),specialisations:this.plannedSpecialisations.map((function(e){return e.serialize()}))}}},{key:"deserialize",value:function(e){var t=this;if(e.progression){this.resetHard();var r=e.progression;r.programs&&r.programs.forEach((function(e){var r=t.getProgramById(e.id);r?r.deserialize(e):console.error("ERROR: ".concat(e.id," is not a valid program."))})),r.specialisations&&r.specialisations.forEach((function(e){var r=t.getSpecialisationById(e.id);r?r.deserialize(e):console.error("ERROR: ".concat(e.id," is not a valid specialisation."))}))}}},{key:"loadAllPrograms",value:function(){var e=Object(C.a)(P.a.mark((function e(t){var r=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(new Request("https://raw.githubusercontent.com/termtangles/termtangles_data/main/publish/".concat(t.toString(),"/all_programs.json"),{method:"GET",mode:"cors",cache:"default"})).then((function(e){return e.json()})).then((function(e){Object(H.t)((function(){r._programMapById.clear(),e.forEach((function(e){var t=new Xe(e.code,e.title,e.academicItemType,e.additionalInfo,e.creditPoints,e.structureSummary,We(e.curriculumStructure),e.description,e.facultyName,e.implementationYear,e.intakePeriod,e.programConstraints,e.schoolName,e.studyLevel,e.urlMap);r.addProgram(t)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAllSpecialisations",value:function(){var e=Object(C.a)(P.a.mark((function e(t){var r=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(new Request("https://raw.githubusercontent.com/termtangles/termtangles_data/main/publish/".concat(t.toString(),"/all_specialisations.json"),{method:"GET",mode:"cors",cache:"default"})).then((function(e){return e.json()})).then((function(e){Object(H.t)((function(){r._specialisationMapById.clear(),e.forEach((function(e){var t=new Ke(e.code,e.title,e.academicItemType,e.creditPoints,e.structureSummary,We(e.curriculumStructure),e.description,e.facultyName,e.implementationYear,e.keywords,e.schoolName,e.studyLevel,e.urlMap);r.addSpecialisation(t)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$e=function(){function e(t,r){Object(w.a)(this,e),this._courseState=t,this._progressionState=r}return Object(N.a)(e,[{key:"courseSearchData",get:function(){return this._courseState.allCourses.sort((function(e,t){return e.code>t.code?1:-1}))}},{key:"programSearchData",get:function(){return this._progressionState.allPrograms.sort((function(e,t){return e.title>t.title?1:-1}))}},{key:"specialisationSearchData",get:function(){return this._progressionState.allSpecialisations.sort((function(e,t){return e.title>t.title?1:-1}))}}]),e}(),et=function(e){switch(e){case"undergraduate":return o.UNDERGRADUATE;case"postgraduate":return o.POSTGRADUATE;case"research":return o.RESEARCH;default:return}},tt=new(function(){function e(){Object(w.a)(this,e),this._studyLevel=o.UNDERGRADUATE,this._isUpdated=!0,this._waitStudyLevelCallbacks=[],Object(H.o)(this)}return Object(N.a)(e,[{key:"studyLevel",get:function(){return this._studyLevel}},{key:"setStudyLevel",value:function(){var e=Object(C.a)(P.a.mark((function e(t){var r=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._studyLevel===t){e.next=3;break}return this._studyLevel=t,e.abrupt("return",new Promise(function(){var e=Object(C.a)(P.a.mark((function e(t,n){var i,s,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(E.a)(r._waitStudyLevelCallbacks),e.prev=1,i.s();case 3:if((s=i.n()).done){e.next=9;break}return a=s.value,e.next=7,a();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i.e(e.t0);case 14:return e.prev=14,i.f(),e.finish(14);case 17:t();case 18:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t,r){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isUpdated",get:function(){return this._isUpdated},set:function(e){this._isUpdated=e}},{key:"registerStudyLevelWait",value:function(e){this._waitStudyLevelCallbacks.push(e)}},{key:"serialize",value:function(){return{studyLevel:this._studyLevel}}},{key:"deserialize",value:function(){var e=Object(C.a)(P.a.mark((function e(t){var r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user){e.next=2;break}return e.abrupt("return");case 2:if(!(r=t.user).studyLevel){e.next=11;break}if(!(n=et(r.studyLevel))){e.next=10;break}return e.next=8,this.setStudyLevel(n);case 8:e.next=11;break;case 10:console.error("ERROR: ".concat(r.studyLevel," is not a valid study level."));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),rt=new qe(tt),nt=new Ze(tt),it=new $e(rt,nt),st=Object(l.createContext)({userState:tt,courseState:rt,progressionState:nt,searchDataState:it}),at=r(352),ct=r(361),ot=r(359),ut=Object(m.b)(at.a)(Ne||(Ne=Object(j.a)(["\n  &&& {\n    border: 0px solid lightgrey;\n    padding: 6px;\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    margin:0px\n  }\n  &&&&{\n    padding:1em 0;\n  }\n"]))),lt=Object(m.b)(at.a.Header)(ke||(ke=Object(j.a)(["\n"]))),dt=Object(m.b)(at.a.Content)(Ae||(Ae=Object(j.a)(["\n  &&&&& {\n    flex: 1;\n    padding:0;\n  }\n"]))),ht=Object(m.b)(at.a.Extra)(Te||(Te=Object(j.a)(["\n  &&&& {\n    margin: 0;\n    text-align: right;\n    flex: 1;\n  }\n"]))),pt=Object(m.b)(at.a.Group)(Re||(Re=Object(j.a)(["\n  && {\n    padding: 15px 0px 10px 0px;\n    margin: 0px;\n  }\n"]))),ft=Object(m.b)(ct.a)(_e||(_e=Object(j.a)(["\n  max-height: 40px;\n"]))),bt=Object(m.b)(ot.a.Column)(De||(De=Object(j.a)(["\n"]))),gt=Object(I.a)((function(e){var t=Object(l.useState)(!1),r=Object(L.a)(t,2),n=r[0],i=r[1];return Object(O.jsx)(f.a,{children:function(){return Object(O.jsxs)(ut,{onMouseOver:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(O.jsxs)(dt,{children:[Object(O.jsx)(lt,{children:e.course.code}),Object(O.jsx)(at.a.Description,{children:e.course.title})]}),n?Object(O.jsx)(dt,{children:Object(O.jsx)(ht,{children:Object(O.jsxs)(F.a.Group,{children:[Object(O.jsx)(F.a,{basic:e.course.courseStatus!==ae.PLANNED&&e.course.courseStatus!==ae.ALLOCATED,icon:e.course.courseStatus===ae.ALLOCATED?"calendar alternate outline":"bookmark",content:e.course.courseStatus===ae.ALLOCATED?"Scheduled":"Interested",color:e.course.courseStatus===ae.ALLOCATED?"orange":"blue",size:"medium",onClick:function(){e.course.courseStatus===ae.PLANNED||e.course.courseStatus===ae.ALLOCATED?e.course.setUnplanned():e.course.setPlanned()}}),Object(O.jsx)(F.a,{basic:e.course.courseStatus!==ae.COMPLETED,icon:"check",content:"Done",color:"green",size:"medium",onClick:function(){e.course.courseStatus===ae.COMPLETED?e.course.setUnplanned():e.course.setCompleted()}}),Object(O.jsx)(F.a,{basic:!0,icon:"book",content:"Handbook",color:"red",size:"medium",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}("https://www.handbook.unsw.edu.au".concat(e.course.urlMap))}})]})})}):Object(O.jsxs)(dt,{children:[Object(O.jsxs)(ht,{children:[e.course.creditPoints," UOC"]}),Object(O.jsx)(ht,{children:e.course.courseStatus===ae.PLANNED?Object(O.jsx)(Ce.a,{color:"red",className:"bookmark"}):e.course.courseStatus===ae.ALLOCATED?Object(O.jsx)(Ce.a,{color:"orange",className:"calendar alternate outline"}):e.course.courseStatus===ae.COMPLETED?Object(O.jsx)(Ce.a,{color:"green",className:"check"}):""})]})]})}})})),jt=Object(I.a)((function(e){var t=Object(l.useState)(!1),r=Object(L.a)(t,2),n=r[0],i=r[1];return Object(O.jsx)(f.a,{children:function(){return Object(O.jsxs)(ut,{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(O.jsxs)(dt,{children:[Object(O.jsx)(at.a.Header,{children:e.specialisation.title}),Object(O.jsxs)(at.a.Description,{children:[e.specialisation.academicItemType," - ",e.specialisation.code]})]}),n?Object(O.jsx)(dt,{children:Object(O.jsx)(ht,{children:Object(O.jsxs)(F.a.Group,{children:[Object(O.jsx)(F.a,{basic:e.specialisation.progressionStatus===a.UNPLANNED,icon:e.specialisation.progressionStatus===a.UNPLANNED?"plus circle":"minus circle",content:e.specialisation.progressionStatus===a.UNPLANNED?"Add":"Remove",color:e.specialisation.progressionStatus===a.UNPLANNED?"green":"red",size:"medium",onClick:function(){e.specialisation.progressionStatus===a.UNPLANNED?e.specialisation.setPlanned():e.specialisation.setUnplanned()}}),Object(O.jsx)(F.a,{basic:!0,icon:"book",content:"Handbook",color:"red",size:"medium",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener, noreferrer");t&&(t.opener=null)}("https://www.handbook.unsw.edu.au".concat(e.specialisation.urlMap))}})]})})}):Object(O.jsxs)(dt,{children:[Object(O.jsxs)(ht,{children:[e.specialisation.creditPoints," UOC"]}),Object(O.jsx)(ht,{children:e.specialisation.progressionStatus===a.PLANNED?Object(O.jsx)(Ce.a,{color:"green",className:"calendar alternate outline"}):Object(O.jsx)(O.Fragment,{})})]})]})}})})),mt=Object(I.a)((function(e){var t=Object(l.useContext)(st);return Object(O.jsx)(f.a,{children:function(){return e.curriculumElements.length>0?Object(O.jsx)(pt,{divided:!0,children:e.curriculumElements.sort((function(e,t){return Number(e.order)-Number(t.order)})).map((function(e){if(e.isCourse()){var r=t.courseState.getCourseById(e.itemCode);return r?Object(O.jsx)(gt,{course:r}):Object(O.jsx)(O.Fragment,{})}if(e.isSpecialisation()){var n=t.progressionState.getSpecialisationById(e.itemCode);return n?Object(O.jsx)(jt,{specialisation:n}):Object(O.jsx)(O.Fragment,{})}return Object(O.jsx)("p",{children:e.description})}))}):Object(O.jsx)(O.Fragment,{})}})})),Ot=Object(m.b)(Y.a)(Le||(Le=Object(j.a)(["\n  &&& {\n    margin-left:auto\n    \n  }\n"]))),vt=Object(m.b)(Se.a.Title)(Ie||(Ie=Object(j.a)(["\n  &&& {\n    display:flex;\n  }\n"]))),yt=m.b.div(Me||(Me=Object(j.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),St=m.b.a(Ue||(Ue=Object(j.a)(["\n  min-width: 80px;\n  text-align: right;\n"]))),xt=m.b.div(Fe||(Fe=Object(j.a)(["\n  margin-left:10px;\n"]))),Pt=Object(I.a)((function(e){var t=function(t){var r=e.progressionPlannerViewModel.calculateUocOfChildren(t);return t.creditPoints>0?Object(O.jsxs)(Ot,{size:"small",color:r===t.creditPoints?"green":r<t.creditPoints?"orange":"yellow",children:[r," / ",t.creditPoints," UOC"]}):r>0?Object(O.jsxs)(Ot,{size:"small",color:"green",children:[r," UOC"]}):void 0};return Object(O.jsx)(f.a,{children:function(){return e.curriculumContainer.length>0?Object(O.jsx)(Se.a.Accordion,{exclusive:!1,panels:Object(ve.a)(e.curriculumContainer).sort((function(e,t){return Number(e.order)-Number(t.order)})).map((function(r){return{key:r.id,title:Object(O.jsxs)(vt,{children:[Object(O.jsx)(Ce.a,{className:e.progressionPlannerViewModel.isContainerActive(r.id)?"caret down":"caret right"}),r.title,t(r)]}),content:{content:Object(O.jsxs)("div",{children:[Object(O.jsxs)(xt,{children:[Object(O.jsxs)(yt,{children:[Object(O.jsx)("span",{children:Object(xe.a)(Ee()(r.description))}),r.containers.length>0?Object(O.jsx)(St,{href:"#",onClick:function(){return e.progressionPlannerViewModel.toggleAllContainers(r)},children:e.progressionPlannerViewModel.isAnySubContainerActive(r)?"Collapse All":"Expand All"}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsx)(mt,{entityId:e.entityId,curriculumElements:r.elements})]}),Object(O.jsx)(Pt,{entityId:e.entityId,curriculumContainer:r.containers,progressionPlannerViewModel:e.progressionPlannerViewModel})]})},active:e.progressionPlannerViewModel.isContainerActive(r.id),onTitleClick:function(){e.progressionPlannerViewModel.toggleContainer(r.id)}}}))},e.entityId):Object(O.jsx)(O.Fragment,{})}})})),Et=m.b.a(ze||(ze=Object(j.a)(["\ncolor: black;\nbackground-color: transparent;\ntext-decoration: none;\n\n&:hover {\n  color: #db2828;\n  background-color: transparent;\n  text-decoration: line-through;\n}\n"]))),Ct=Object(I.a)((function(e){return Object(O.jsx)(f.a,{children:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{children:Object(O.jsx)(Et,{href:"#",onClick:function(){return e.entity.setUnplanned()},children:e.entity.title})}),Object(O.jsx)("span",{children:Object(xe.a)(Ee()(e.entity.structureSummary))}),Object(O.jsx)(Se.a,{fluid:!0,styled:!0,children:Object(O.jsx)(Pt,{entityId:e.entity.id,curriculumContainer:e.entity.curriculumStructure,progressionPlannerViewModel:e.progressionPlannerViewModel})})]})}})})),wt=Object(m.b)(g.a)(Ve||(Ve=Object(j.a)(["\n  margin:1em 0;\n"]))),Nt=Object(I.a)((function(e){var t=e.progressionPlannerViewModel;return Object(O.jsx)(f.a,{children:function(){return Object(O.jsx)(d.a.Fragment,{children:Object(O.jsx)(wt,{children:t.progressionState.plannedProgressionEntities.map((function(e){return Object(O.jsx)(Ct,{entity:e,progressionPlannerViewModel:t})}))})})}})})),kt=function(){function e(t,r){Object(w.a)(this,e),this._progressionState=void 0,this._courseState=void 0,this._progressionPlannerState=void 0,this._displayableContainerPanels=new Set,Object(H.p)(this,{_displayableContainerPanels:H.q}),this._progressionState=t,this._progressionPlannerState={id:"progressionPlanner",title:"Progression Planner",programs:[],specialisations:[]},this._courseState=r}return Object(N.a)(e,[{key:"progressionState",get:function(){return this._progressionState}},{key:"progressionPlannerState",get:function(){return this._progressionPlannerState}},{key:"calculateUocOfChildren",value:function(e){return Object(ve.a)(this.getUniqueUocOfCurriculumContainer(e).values()).reduce((function(e,t){return e+t}),0)}},{key:"getUniqueUocOfCurriculumContainer",value:function(e){var t=this,r=new Map;return e.elements.forEach((function(e){if(e.isCourse()){var n=t._courseState.getCourseById(e.itemCode);n&&n.courseStatus!==ae.UNPLANNED&&r.set(e.itemCode,e.creditPoints)}else if(e.isSpecialisation()){var i=t.progressionState.getSpecialisationById(e.itemCode);i&&i.progressionStatus!==a.UNPLANNED&&r.set(e.itemCode,e.creditPoints)}})),e.containers.forEach((function(e){t.getUniqueUocOfCurriculumContainer(e).forEach((function(e,t){return r.set(t,e)}))})),r}},{key:"toggleContainer",value:function(e){this._displayableContainerPanels.has(e)?this._displayableContainerPanels.delete(e):this._displayableContainerPanels.add(e)}},{key:"isAnySubContainerActive",value:function(e){var t=this;return e.containers.filter((function(e){return t._displayableContainerPanels.has(e.id)||t.isAnySubContainerActive(e)})).length>0}},{key:"toggleAllContainers",value:function(e){var t=this;this.isAnySubContainerActive(e)?e.containers.forEach((function(e){t.setAllContainersInactive(e)})):e.containers.forEach((function(e){t.setAllContainersActive(e)}))}},{key:"setAllContainersActive",value:function(e){var t=this;e.containers.forEach((function(e){t.setAllContainersActive(e)})),this._displayableContainerPanels.add(e.id)}},{key:"setAllContainersInactive",value:function(e){var t=this;e.containers.forEach((function(e){t.setAllContainersInactive(e)})),this._displayableContainerPanels.delete(e.id)}},{key:"isContainerActive",value:function(e){return this._displayableContainerPanels.has(e)}}]),e}(),At=r(348),Tt=r(350),Rt=function(){function e(t,r){var n=this;Object(w.a)(this,e),this.name=t,this.fnGetTargetValue=r,this._possibleValues=new Set,this._selectedValues=new Set,this.filterResultMapping=new Map,this.initializeFilter=function(e){n._possibleValues=new Set(e.map((function(e){return n.fnGetTargetValue(e)})).flat().filter((function(e){return""!==e})))},this.applyFilter=function(e){var t=e;return n._selectedValues.size>0&&(t=e.filter((function(e){return Object(ve.a)(n._selectedValues.values()).filter((function(t){return n.fnGetTargetValue(e).includes(t)})).length>0}))),t},Object(H.o)(this)}return Object(N.a)(e,[{key:"getFilterState",value:function(e){var t=this,r=0===Object(ve.a)(this._possibleValues.values()).filter((function(e){return isNaN(Number(e))})).length;return Object(ve.a)(this._possibleValues.values()).sort((function(e,t){return r?Number(e)-Number(t):e>t?1:-1})).map((function(r){return{filterElementName:r.toString(),numMatchingRecords:e.filter((function(e){return t.fnGetTargetValue(e).includes(r)})).length}}))}},{key:"isSelected",value:function(e){return this._selectedValues.has(e)}},{key:"toggleValue",value:function(e){this._possibleValues.has(e)?this._selectedValues.has(e)?this._selectedValues.delete(e):this._selectedValues.add(e):console.log("invalid value toggled: ".concat(e))}},{key:"resetValue",value:function(e){this._possibleValues.has(e)?this._selectedValues.has(e)&&this._selectedValues.delete(e):console.log("invalid value toggled: ".concat(e))}}]),e}();!function(e){e[e.COURSES=0]="COURSES",e[e.PROGRAMS=1]="PROGRAMS",e[e.SPECIALISATIONS=2]="SPECIALISATIONS"}(Ge||(Ge={}));var _t,Dt,Lt,It=function(){function e(t){var r=this;Object(w.a)(this,e),this.searchDataState=t,this.queryText="",this.isLoading=!0,this.resultsPerPage=10,this.isInputActive=!1,this.searchFilters={courseFilters:[],programFilters:[],specialisationFilters:[]},this.searchResults={courseSearchResults:[],programSearchResults:[],specialisationSearchResults:[]},this.activeItem=Ge.COURSES,this.setActiveItem=function(e){r.activeItem=e},Object(H.o)(this),Object(H.r)((function(){return t.courseSearchData}),(function(){r.setIsLoading(!1),r.searchFilters.courseFilters=function(e){var t=[new Rt("Offering Periods",(function(e){return e.termOffering})),new Rt("Faculty",(function(e){return[e.facultyName]})),new Rt("School",(function(e){return[e.schoolName]})),new Rt("Credit Points",(function(e){return[e.creditPoints.toString()]}))];return t.forEach((function(t){return t.initializeFilter(e)})),t}(t.courseSearchData)}),{fireImmediately:!0}),Object(H.r)((function(){return t.programSearchData}),(function(){r.setIsLoading(!1),r.searchFilters.programFilters=function(e){var t=[new Rt("Intake Periods",(function(e){return e.intakePeriod})),new Rt("Faculty",(function(e){return[e.facultyName]})),new Rt("School",(function(e){return[e.schoolName]})),new Rt("Credit Points",(function(e){return[e.creditPoints.toString()]})),new Rt("Academic Item Type",(function(e){return[e.academicItemType]}))];return t.forEach((function(t){return t.initializeFilter(e)})),t}(t.programSearchData)}),{fireImmediately:!0}),Object(H.r)((function(){return t.specialisationSearchData}),(function(){r.setIsLoading(!1),r.searchFilters.specialisationFilters=function(e){var t=[new Rt("Faculty",(function(e){return[e.facultyName]})),new Rt("School",(function(e){return[e.schoolName]})),new Rt("Credit Points",(function(e){return[e.creditPoints.toString()]})),new Rt("Academic Item Type",(function(e){return[e.academicItemType]}))];return t.forEach((function(t){return t.initializeFilter(e)})),t}(t.specialisationSearchData)}),{fireImmediately:!0}),Object(H.g)((function(){r.searchCourses()})),Object(H.g)((function(){r.searchPrograms()})),Object(H.g)((function(){r.searchSpecialisations()}))}return Object(N.a)(e,[{key:"shouldShowPanel",get:function(){return this.isInputActive||this.queryText.length>0}},{key:"setInputActive",value:function(e){this.isInputActive=e}},{key:"setQueryText",value:function(e){this.queryText=e}},{key:"setIsLoading",value:function(e){this.isLoading=e}},{key:"setResultsPerPage",value:function(e){this.resultsPerPage=e}},{key:"searchCourses",value:function(){var e=this,t=this.searchDataState.courseSearchData;""!==this.queryText&&(t=this.searchDataState.courseSearchData.filter((function(t){return t.code.toLowerCase().includes(e.queryText.toLowerCase())||t.title.toLowerCase().includes(e.queryText.toLowerCase())}))),this.searchFilters.courseFilters.forEach((function(e){t=e.applyFilter(t)})),Object(H.s)((function(){return e.searchResults.courseSearchResults=t}))}},{key:"searchPrograms",value:function(){var e=this,t=this.searchDataState.programSearchData;""!==this.queryText&&(t=this.searchDataState.programSearchData.filter((function(t){return t.code.toLowerCase().includes(e.queryText.toLowerCase())||t.title.toLowerCase().includes(e.queryText.toLowerCase())}))),this.searchFilters.programFilters.forEach((function(e){t=e.applyFilter(t)})),Object(H.s)((function(){return e.searchResults.programSearchResults=t}))}},{key:"searchSpecialisations",value:function(){var e=this,t=this.searchDataState.specialisationSearchData;""!==this.queryText&&(t=this.searchDataState.specialisationSearchData.filter((function(t){return t.code.toLowerCase().includes(e.queryText.toLowerCase())||t.title.toLowerCase().includes(e.queryText.toLowerCase())}))),this.searchFilters.specialisationFilters.forEach((function(e){t=e.applyFilter(t)})),Object(H.s)((function(){return e.searchResults.specialisationSearchResults=t}))}}]),e}(),Mt={backgroundColor:"#dcdcdc",border:"none",color:"black",padding:"15px 32px",textDecoration:"none",display:"inline-block",fontSize:"16px",margin:"4px 2px",cursor:"pointer",width:"100%",height:"100%"},Ut=r(351),Ft=Object(I.a)((function(e){var t=Object(l.useState)(new Set),r=Object(L.a)(t,2),n=r[0],i=r[1];return Object(O.jsx)(f.a,{children:function(){var t=e.filter.getFilterState(e.searchResults);return Object(O.jsxs)(M.a.Item,{children:[Object(O.jsx)(Se.a.Title,{active:n.has(e.filter.name),content:e.filter.name,onClick:function(){var t=new Set(n);n.has(e.filter.name)?t.delete(e.filter.name):t.add(e.filter.name),i(t)}}),Object(O.jsx)(Se.a.Content,{active:n.has(e.filter.name),content:Object(O.jsx)(Ut.a,{children:Object(O.jsx)(Ut.a.Group,{grouped:!0,children:t.map((function(t){return Object(O.jsx)(Ut.a.Checkbox,{label:"".concat(t.filterElementName),name:e.filter.name,type:"checkbox",value:t.filterElementName,checked:e.filter.isSelected(t.filterElementName),onClick:function(){e.filter.toggleValue(t.filterElementName)}},t.filterElementName)}))})})})]},e.filter.name)}})})),zt=(r(317),Object(I.a)((function(e){return Object(O.jsx)(f.a,{children:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"resetbutton",children:Object(O.jsx)("button",{style:Mt,onClick:function(){e.filters.forEach((function(t){t.getFilterState(e.searchResults).forEach((function(e){t.resetValue(e.filterElementName)}))}))},children:"Reset Filter"})}),Object(O.jsx)(Se.a,{fluid:!0,as:M.a,vertical:!0,children:e.filters.map((function(t){return Object(O.jsx)(Ft,{searchResults:e.searchResults,filter:t})}))})]})}})}))),Vt=(Object(m.b)(at.a.Group)(_t||(_t=Object(j.a)(["\n  &&& {\n    padding: 15px 0px 10px 0px;\n  }\n"]))),Object(I.a)((function(e){return Object(O.jsx)(f.a,{children:function(){return Object(O.jsx)(pt,{divided:!0,children:e.results.map((function(e){return Object(O.jsx)(gt,{course:e})}))})}})}))),Gt=Object(I.a)((function(e){var t=Object(l.useState)(1),r=Object(L.a)(t,2),n=r[0],i=r[1];return Object(O.jsx)(f.a,{children:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(ot.a,{columns:12,divided:!0,container:!0,children:Object(O.jsxs)(ot.a.Row,{children:[Object(O.jsx)(ot.a.Column,{width:4,children:Object(O.jsx)(zt,{searchResults:e.searchPanelViewModel.searchResults.courseSearchResults,filters:e.searchPanelViewModel.searchFilters.courseFilters})},"filter"),Object(O.jsxs)(bt,{width:12,children:[Object(O.jsx)(Vt,{results:e.searchPanelViewModel.searchResults.courseSearchResults.slice(e.searchPanelViewModel.resultsPerPage*(n-1),Math.min(e.searchPanelViewModel.searchResults.courseSearchResults.length,e.searchPanelViewModel.resultsPerPage*n))}),Object(O.jsx)(ft,{totalPages:Math.ceil(e.searchPanelViewModel.searchResults.courseSearchResults.length/e.searchPanelViewModel.resultsPerPage),onPageChange:function(e,t){i(Number(t.activePage))},activePage:n})]},"results")]})})})}})})),Bt=Object(I.a)((function(e){var t=Object(l.useState)(!1),r=Object(L.a)(t,2),n=r[0],i=r[1];return Object(O.jsx)(f.a,{children:function(){return Object(O.jsxs)(ut,{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(O.jsxs)(dt,{children:[Object(O.jsx)(at.a.Header,{children:e.program.title}),Object(O.jsxs)(at.a.Description,{children:[e.program.academicItemType," - ",e.program.code]})]}),n?Object(O.jsx)(dt,{children:Object(O.jsx)(ht,{children:Object(O.jsxs)(F.a.Group,{children:[Object(O.jsx)(F.a,{basic:e.program.progressionStatus===a.UNPLANNED,icon:e.program.progressionStatus===a.UNPLANNED?"plus circle":"minus circle",content:e.program.progressionStatus===a.UNPLANNED?"Add":"Remove",color:e.program.progressionStatus===a.UNPLANNED?"green":"red",size:"medium",onClick:function(){e.program.progressionStatus===a.UNPLANNED?e.program.setPlanned():e.program.setUnplanned()}}),Object(O.jsx)(F.a,{basic:!0,icon:"book",content:"Handbook",color:"red",size:"medium",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}("https://www.handbook.unsw.edu.au".concat(e.program.urlMap))}})]})})}):Object(O.jsxs)(dt,{children:[Object(O.jsxs)(ht,{children:[e.program.creditPoints," UOC"]}),Object(O.jsx)(ht,{children:e.program.progressionStatus===a.PLANNED?Object(O.jsx)(Ce.a,{color:"green",className:"calendar alternate outline"}):Object(O.jsx)(O.Fragment,{})})]})]})}})})),qt=Object(I.a)((function(e){return Object(O.jsx)(f.a,{children:function(){return Object(O.jsx)(pt,{divided:!0,children:e.results.map((function(e){return Object(O.jsx)(Bt,{program:e})}))})}})})),Ht=Object(I.a)((function(e){var t=Object(l.useState)(1),r=Object(L.a)(t,2),n=r[0],i=r[1];return Object(O.jsx)(f.a,{children:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(ot.a,{columns:12,divided:!0,container:!0,children:Object(O.jsxs)(ot.a.Row,{children:[Object(O.jsx)(ot.a.Column,{width:4,children:Object(O.jsx)(zt,{searchResults:e.searchPanelViewModel.searchResults.programSearchResults,filters:e.searchPanelViewModel.searchFilters.programFilters})},"filter"),Object(O.jsxs)(bt,{width:12,children:[Object(O.jsx)(qt,{results:e.searchPanelViewModel.searchResults.programSearchResults.slice(e.searchPanelViewModel.resultsPerPage*(n-1),Math.min(e.searchPanelViewModel.searchResults.programSearchResults.length,e.searchPanelViewModel.resultsPerPage*n))}),Object(O.jsx)(ft,{totalPages:Math.ceil(e.searchPanelViewModel.searchResults.programSearchResults.length/e.searchPanelViewModel.resultsPerPage),onPageChange:function(e,t){i(Number(t.activePage))},activePage:n})]},"results")]})})})}})})),Qt=Object(I.a)((function(e){return Object(O.jsx)(f.a,{children:function(){return Object(O.jsx)(pt,{divided:!0,children:e.results.map((function(e){return Object(O.jsx)(jt,{specialisation:e})}))})}})})),Yt=Object(I.a)((function(e){var t=Object(l.useState)(1),r=Object(L.a)(t,2),n=r[0],i=r[1];return Object(O.jsx)(f.a,{children:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(ot.a,{columns:12,divided:!0,container:!0,children:Object(O.jsxs)(ot.a.Row,{children:[Object(O.jsx)(ot.a.Column,{width:4,children:Object(O.jsx)(zt,{searchResults:e.searchPanelViewModel.searchResults.specialisationSearchResults,filters:e.searchPanelViewModel.searchFilters.specialisationFilters})},"filter"),Object(O.jsxs)(bt,{width:12,children:[Object(O.jsx)(Qt,{results:e.searchPanelViewModel.searchResults.specialisationSearchResults.slice(e.searchPanelViewModel.resultsPerPage*(n-1),Math.min(e.searchPanelViewModel.searchResults.specialisationSearchResults.length,e.searchPanelViewModel.resultsPerPage*n))}),Object(O.jsx)(ft,{totalPages:Math.ceil(e.searchPanelViewModel.searchResults.specialisationSearchResults.length/e.searchPanelViewModel.resultsPerPage),onPageChange:function(e,t){i(Number(t.activePage))},activePage:n})]},"results")]})})})}})})),Wt=m.b.div(Dt||(Dt=Object(j.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: 6px;\n"]))),Jt=m.b.h4(Lt||(Lt=Object(j.a)(["\n  &&& {\n    margin: 1rem 0 0.5rem 0.5rem\n  }\n"]))),Xt=Object(I.a)((function(e){var t=e.searchPanelViewModel,r=function(){var e=-1;switch(t.activeItem){case Ge.COURSES:e=t.searchResults.courseSearchResults.length;break;case Ge.PROGRAMS:e=t.searchResults.programSearchResults.length;break;case Ge.SPECIALISATIONS:e=t.searchResults.specialisationSearchResults.length}return e};return Object(O.jsx)(f.a,{children:function(){return Object(O.jsx)(d.a.Fragment,{children:Object(O.jsxs)(g.a,{children:[Object(O.jsx)(At.a,{placeholder:"Click here to to get started!",fluid:!0,loading:t.isLoading,icon:Object(O.jsx)(Ce.a,{link:t.isInputActive,className:t.isInputActive?"x":"search",onClick:function(){t.setQueryText(""),t.setInputActive(!1)}}),onClick:function(){t.setInputActive(!0)},onChange:function(e,r){return t.setQueryText(r.value)},value:t.queryText}),t.shouldShowPanel?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(M.a,{pointing:!0,secondary:!0,children:[Object(O.jsx)(M.a.Item,{name:"courses",active:t.activeItem===Ge.COURSES,onClick:function(){return t.setActiveItem(Ge.COURSES)},children:"Courses (".concat(t.searchResults.courseSearchResults.length,")")}),Object(O.jsx)(M.a.Item,{name:"programs",active:t.activeItem===Ge.PROGRAMS,onClick:function(){return t.setActiveItem(Ge.PROGRAMS)},children:"Programs (".concat(t.searchResults.programSearchResults.length,")")}),Object(O.jsx)(M.a.Item,{name:"specialisations",active:t.activeItem===Ge.SPECIALISATIONS,onClick:function(){return t.setActiveItem(Ge.SPECIALISATIONS)},children:"Specialisations (".concat(t.searchResults.specialisationSearchResults.length,")")})]}),Object(O.jsxs)(Wt,{children:[Object(O.jsxs)(Jt,{children:["Found ",r()," result",1===r()?"":"s"]}),Object(O.jsxs)("span",{children:[Object(O.jsx)("span",{style:{marginRight:"10px"},children:"Results per page"}),Object(O.jsx)(Tt.a,{text:t.resultsPerPage.toString(),selection:!0,options:[{text:10,value:10},{text:20,value:20},{text:30,value:30},{text:50,value:50}],onChange:function(e,r){t.setResultsPerPage(Number(r.value))}})]})]}),t.activeItem===Ge.COURSES?Object(O.jsx)(Gt,{searchPanelViewModel:t}):Object(O.jsx)(O.Fragment,{}),t.activeItem===Ge.PROGRAMS?Object(O.jsx)(Ht,{searchPanelViewModel:t}):Object(O.jsx)(O.Fragment,{}),t.activeItem===Ge.SPECIALISATIONS?Object(O.jsx)(Yt,{searchPanelViewModel:t}):Object(O.jsx)(O.Fragment,{})]}):Object(O.jsx)(O.Fragment,{})]})})}})})),Kt=function(){function e(t){Object(w.a)(this,e),this.courseState=void 0,this.courseState=t}return Object(N.a)(e,[{key:"autoPlanCourseState",get:function(){return this.courseState}},{key:"autoPlan",value:function(){for(var e=!0,t=this.getYearsToTryAllocate(this.courseState.getMaxAllocatedYear),r=["Term 1","Term 2","Term 3"];!0===e;){for(var n=this.courseState.plannedCourses,i=(n.length,!1),s=0;s<n.length;s++)for(var a=!1,c=0;c<t.length;c++)if(!1===a)for(var o=0;o<r.length;o++){var u=this.courseState.getMissingRequirementsWhenAssigningCourseToTerm(n[s],new Q(t[c],r[o])),l=this.termHasLessThanThreeCourses(t[c],r[o],this.courseState.termCourseMap),d=new Q(t[c],r[o]).isBefore(new Q(2021,"Term 2"));if(u=0===u.length,!d&&l&&u){this.courseState.assignCourseToTerm(n[s],new Q(t[c],r[o])),a=!0,i=!0;break}}!1===i&&(e=!1)}}},{key:"termHasLessThanThreeCourses",value:function(e,t,r){var n=e+"_"+t;return!r.has(n)||!(r.get(n).length>=3)}},{key:"getYearsToTryAllocate",value:function(e){for(var t=[],r=2021;r<=e+4;r++)t.push(r);return t}}]),e}(),Zt=function(){var e=Object(l.useContext)(st),t=new It(e.searchDataState),r=new ye(e.courseState),n=new Kt(e.courseState),i=new kt(e.progressionState,e.courseState),s=new _(e.userState,e.progressionState,e.courseState);return Object(O.jsx)(st.Provider,{value:e,children:Object(O.jsxs)("div",{className:"ui maincontainer",children:[Object(O.jsx)(G,{userState:e.userState}),Object(O.jsxs)(b.a,{className:"split-pane-flex",split:"vertical",defaultSize:"min(50vw, 1000px)",primary:"second",children:[Object(O.jsxs)(g.a,{style:{padding:10},fluid:!0,children:[Object(O.jsx)(Xt,{searchPanelViewModel:t}),Object(O.jsx)(f.a,{children:function(){return t.shouldShowPanel?Object(O.jsx)(O.Fragment,{}):Object(O.jsx)(Nt,{progressionPlannerViewModel:i})}})]}),Object(O.jsxs)(g.a,{style:{padding:10},fluid:!0,children:[Object(O.jsx)(S,{localImportExportViewModel:s}),Object(O.jsx)("button",{type:"button",style:D,onClick:function(){n.autoPlan()},children:"Auto Plan Degree"}),Object(O.jsx)(Oe,{plannerViewModel:r})]})]})]})})},$t=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,362)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),n(e),i(e),s(e),a(e)}))};p.a.render(Object(O.jsx)(d.a.StrictMode,{children:Object(O.jsx)(Zt,{})}),document.getElementById("root")),$t()}},[[318,1,2]]]);
//# sourceMappingURL=main.72c32382.chunk.js.map